import{c,a as r,b as d,g as y,h as b,r as v,o as l,F as w,f as D,k as M,e as _,w as E,d as f,t as U,i as x}from"./app-BqBcK2Me.js";import{i as A}from"./index-BmkpYdFn.js";import{I as N}from"./Input-DjuOdbF1.js";import{M as B}from"./Modal-C-fODVOW.js";import{L as j}from"./Loader-BgqDxGis.js";import{B as W}from"./Button-BNac3Uy4.js";import{S as z}from"./Select-LUycGOZz.js";import{D as J}from"./Dropdown-DAhegZ8H.js";import{T as G}from"./Table-BvD-e7YZ.js";import{D as Y}from"./Datepicker-CBhW7FEH.js";import{S as Q}from"./SelectTags-CyicOW9c.js";import{a as Z}from"./stringUtils-Bvzw0-oW.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{R as q}from"./refresh-ccw-CRBonytR.js";import{T as R}from"./trash-2-CjbEW11q.js";import{P as L}from"./plus-DG46xS87.js";import{T as X}from"./ticket-percent-Bu6ep7mY.js";import"./Copy-Bc6MjpSO.js";import"./ShineEffect-DJP6tw7V.js";import"./createLucideIcon-OabOCuoO.js";import"./Popover-DiVqkWjb.js";import"./Tooltip-BzW-KZ4w.js";import"./Skeleton-BEzu_4lT.js";import"./capitalize-ChUSrr1V.js";import"./circle-check-DQp1AnuL.js";import"./circle-alert-DCWIbGb_.js";import"./x-PgxH0pkw.js";import"./parsePhoneNumber-xMTQFMCS.js";import"./Pill-0qkov1t4.js";import"./Paginator-C2SHUWxU.js";import"./Drawer-DjX_rRWH.js";import"./SelectCountry-DAzH5pe4.js";import"./chevron-down-C_8LTtlf.js";import"./chevron-up-CRebbkwY.js";import"./Switch-DHdUFK33.js";import"./vue-draggable-next.esm-bundler-kmF9HwhL.js";import"./move-CNLa0216.js";import"./rotate-ccw-Gb8UcEcQ.js";const I={inject:["formState","promotionState","storeState","changeHistoryState","notificationState"],components:{TicketPercent:X,Input:N,Modal:B,Loader:j,Button:W,Select:z,Dropdown:J,Table:G,Datepicker:Y,SelectTags:Q,Plus:L,Trash2:R,RefreshCcw:q},data(){return{Plus:L,Trash2:R,RefreshCcw:q,perPage:"15",checkedRows:[],pagination:null,searchTerm:null,selectAll:!1,latestRequestId:0,filterExpressions:[],sortingExpressions:[],hasInitialResults:null,isDeletingPromotionIds:[],deletablePromotion:null,cancelTokenSource:null,isLoadingPromotions:!1,isUpdatingPromotions:!1,columns:this.prepareColumns(),includePromotionFieldNames:!0,activeTypes:[{label:"Active",value:!0},{label:"Inactive",value:!1}],discountRateTypes:[{label:"Flat",value:"flat"},{label:"Percentage",value:"percentage"}],hourOptions:Array.from({length:24},(u,a)=>({label:a.toString().padStart(2,"0")+":00",value:a.toString().padStart(2,"0")+":00"})),dayOptions:[{label:"Monday",value:"Monday"},{label:"Tuesday",value:"Tuesday"},{label:"Wednesday",value:"Wednesday"},{label:"Thursday",value:"Thursday"},{label:"Friday",value:"Friday"},{label:"Saturday",value:"Saturday"},{label:"Sunday",value:"Sunday"}],dayOfMonthOptions:Array.from({length:31},(u,a)=>({label:`${a+1}`,value:(a+1).toString().padStart(2,"0")})),monthOptions:[{label:"January",value:"January"},{label:"February",value:"February"},{label:"March",value:"March"},{label:"April",value:"April"},{label:"May",value:"May"},{label:"June",value:"June"},{label:"July",value:"July"},{label:"August",value:"August"},{label:"September",value:"September"},{label:"October",value:"October"},{label:"November",value:"November"},{label:"December",value:"December"}],bulkSelectionOptions:[{label:"Update Promotions",action:this.showUpdatePromotionsModal},{label:"Delete",action:this.showDeletePromotionsModal}],updateScope:"checked",updateScopeOptions:[{label:"Update Only Checked Fields",value:"checked"},{label:"Update Checked & Unchecked Fields",value:"all"}],active:!0,code:null,offer_discount:!1,discount_rate_type:"flat",discount_percentage_rate:"0",discount_flat_rate:"0.00",offer_free_delivery:!1,activate_using_code:!1,activate_using_minimum_grand_total:!1,minimum_grand_total:"0.00",activate_using_minimum_total_products:!1,minimum_total_products:"1",activate_using_minimum_total_product_quantities:!1,minimum_total_product_quantities:"1",activate_using_start_datetime:!1,start_datetime:null,activate_using_end_datetime:!1,end_datetime:null,activate_using_hours_of_day:!1,hours_of_day:[],activate_using_days_of_the_week:!1,days_of_the_week:[],activate_using_days_of_the_month:!1,days_of_the_month:[],activate_using_months_of_the_year:!1,months_of_the_year:[],activate_using_usage_limit:!1,remaining_quantity:"0",activate_for_new_customer:!1,activate_for_existing_customer:!1}},watch:{store(u,a){!a&&u&&this.showPromotions()},selectAll(u){this.checkedRows=this.promotionForms.reduce((a,n)=>(a[n.id]=u,a),{})}},computed:{store(){return this.storeState.store},hasSearchTerm(){return this.isNotEmpty(this.searchTerm)},isDeletingPromotions(){return this.isDeletingPromotionIds.length>0},totalCheckedRows(){return Object.values(this.checkedRows).filter(u=>u).length},hasFilterExpressions(){return this.filterExpressions.length>0},hasSortingExpressions(){return this.sortingExpressions.length>0},promotionForms(){return this.promotionState.promotionForms}},methods:{isNotEmpty:Z,prepareColumns(){const u=["Name","Description","Active","Discount","Free Delivery","Code","Minimum Grand Total","Minimum Total Products","Minimum Total Product Quantities","Start Datetime","End Datetime","Hours of Day","Days of the Week","Days of the Month","Months of the Year","Usage Limit","New Customer","Existing Customer"],a=["Name","Description","Active","Discount","Free Delivery","Code","Minimum Grand Total","Minimum Total Products","Minimum Total Product Quantities","Start Datetime","End Datetime","Hours of Day","Days of the Week","Days of the Month","Months of the Year","Usage Limit","New Customer","Existing Customer"];return u.map(n=>({name:n,active:a.includes(n),priority:a.includes(n)}))},showDeletePromotionsModal(){this.$refs.actionDropdown.hideDropdown(),this.$refs.deletePromotionsModal.showModal()},showUpdatePromotionsModal(){this.$refs.actionDropdown.hideDropdown(),this.$refs.updatePromotionsModal.showModal()},showDeleteConfirmationModal(u){this.deletablePromotion=u,this.$refs.deletePromotionModal.showModal()},isDeletingPromotion(u){return u==null?!1:this.isDeletingPromotionIds.findIndex(a=>a==u.id)!=-1},onView(u){this.$router.push({name:"edit-promotion",params:{promotion_id:u.id},query:{store_id:this.store.id,searchTerm:this.searchTerm,filterExpressions:this.filterExpressions.join("|"),sortingExpressions:this.sortingExpressions.join("|")}})},onAddPromotion(){this.$router.push({name:"create-promotion",query:{store_id:this.store.id}})},captureChange(u,a){this.promotionForms[u].modified=!0,this.promotionState.saveStateDebounced(a)},paginate(u){this.showPromotions(u)},search(u){this.searchTerm=u,this.showPromotions()},updatedColumns(u){this.columns=u},updatedFilters(u){const a=u.map(n=>n.expression);A(this.filterExpressions,a)||(this.filterExpressions=a,this.showPromotions())},updatedSorting(u){const a=u.map(n=>n.expression);A(this.sortingExpressions,a)||(this.sortingExpressions=a,this.showPromotions())},updatedPerPage(u){this.perPage=u,this.showPromotions()},async showPromotions(u=1){var n,p;const a=++this.latestRequestId;try{this.isLoadingPromotions=!0,this.cancelTokenSource&&this.cancelTokenSource.cancel("Request superseded by a newer one"),this.cancelTokenSource=b.CancelToken.source();let t={params:{page:u,per_page:this.perPage,store_id:this.store.id},cancelToken:this.cancelTokenSource.token};this.hasSearchTerm&&(t.params.search=this.searchTerm),this.hasFilterExpressions&&(t.params._filters=this.filterExpressions.join("|")),this.hasSortingExpressions&&(t.params._sort=this.sortingExpressions.join("|"));const e=await b.get("/api/promotions",t);if(a!==this.latestRequestId)return;this.pagination==null&&(this.hasInitialResults=e.data.meta.total>0),this.pagination=e.data;const h=this.pagination.data;this.promotionState.setPromotionForms(h),this.checkedRows=this.promotionForms.reduce((k,P)=>(k[P.id]=!1,k),{})}catch(t){if(b.isCancel(t)||a!==this.latestRequestId)return;const e=((p=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:p.message)||(t==null?void 0:t.message)||"Something went wrong while fetching promotions";this.notificationState.showWarningNotification(e),this.formState.setServerFormErrors(t),console.error("Failed to fetch promotions:",t)}finally{if(a!==this.latestRequestId)return;this.isLoadingPromotions=!1,this.cancelTokenSource=null}},async updatePromotions(u=null){var a,n;try{if(this.isUpdatingPromotions)return;const p={store_id:this.store.id};if(u===null)p.promotions=this.promotionForms.filter(t=>t.modified);else{let t=this.promotionForms.filter(e=>this.checkedRows[e.id]);p.promotions=t.map(e=>{const h={id:e.id};return(this.updateScope==="all"||this.updateScope==="checked"&&this.active!==null)&&(h.active=this.active),(this.updateScope==="all"||this.updateScope==="checked"&&this.offer_discount===!0)&&(this.offer_discount!==null&&(h.offer_discount=this.offer_discount),this.offer_discount&&this.discount_rate_type!==null&&(h.discount_rate_type=this.discount_rate_type),this.offer_discount&&this.discount_rate_type==="percentage"&&this.discount_percentage_rate!==null&&(h.discount_percentage_rate=this.discount_percentage_rate),this.offer_discount&&this.discount_rate_type==="flat"&&this.discount_flat_rate!==null&&(h.discount_flat_rate=this.discount_flat_rate)),(this.updateScope==="all"||this.updateScope==="checked"&&this.offer_free_delivery===!0)&&this.offer_free_delivery!==null&&(h.offer_free_delivery=this.offer_free_delivery),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_minimum_grand_total===!0)&&(this.activate_using_minimum_grand_total!==null&&(h.activate_using_minimum_grand_total=this.activate_using_minimum_grand_total),this.activate_using_minimum_grand_total&&this.minimum_grand_total!==null&&(h.minimum_grand_total=this.minimum_grand_total)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_minimum_total_products===!0)&&(this.activate_using_minimum_total_products!==null&&(h.activate_using_minimum_total_products=this.activate_using_minimum_total_products),this.activate_using_minimum_total_products&&this.minimum_total_products!==null&&(h.minimum_total_products=this.minimum_total_products)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_minimum_total_product_quantities===!0)&&(this.activate_using_minimum_total_product_quantities!==null&&(h.activate_using_minimum_total_product_quantities=this.activate_using_minimum_total_product_quantities),this.activate_using_minimum_total_product_quantities&&this.minimum_total_product_quantities!==null&&(h.minimum_total_product_quantities=this.minimum_total_product_quantities)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_start_datetime===!0)&&(this.activate_using_start_datetime!==null&&(h.activate_using_start_datetime=this.activate_using_start_datetime),this.activate_using_start_datetime&&this.start_datetime!==null&&(h.start_datetime=this.start_datetime)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_end_datetime===!0)&&(this.activate_using_end_datetime!==null&&(h.activate_using_end_datetime=this.activate_using_end_datetime),this.activate_using_end_datetime&&this.end_datetime!==null&&(h.end_datetime=this.end_datetime)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_hours_of_day===!0)&&(this.activate_using_hours_of_day!==null&&(h.activate_using_hours_of_day=this.activate_using_hours_of_day),this.activate_using_hours_of_day&&this.hours_of_day!==null&&(h.hours_of_day=this.hours_of_day)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_days_of_the_week===!0)&&(this.activate_using_days_of_the_week!==null&&(h.activate_using_days_of_the_week=this.activate_using_days_of_the_week),this.activate_using_days_of_the_week&&this.days_of_the_week!==null&&(h.days_of_the_week=this.days_of_the_week)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_days_of_the_month===!0)&&(this.activate_using_days_of_the_month!==null&&(h.activate_using_days_of_the_month=this.activate_using_days_of_the_month),this.activate_using_days_of_the_month&&this.days_of_the_month!==null&&(h.days_of_the_month=this.days_of_the_month)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_months_of_the_year===!0)&&(this.activate_using_months_of_the_year!==null&&(h.activate_using_months_of_the_year=this.activate_using_months_of_the_year),this.activate_using_months_of_the_year&&this.months_of_the_year!==null&&(h.months_of_the_year=this.months_of_the_year)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_using_usage_limit===!0)&&(this.activate_using_usage_limit!==null&&(h.activate_using_usage_limit=this.activate_using_usage_limit),this.activate_using_usage_limit&&this.remaining_quantity!==null&&(h.remaining_quantity=this.remaining_quantity)),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_for_new_customer===!0)&&this.activate_for_new_customer!==null&&(h.activate_for_new_customer=this.activate_for_new_customer),(this.updateScope==="all"||this.updateScope==="checked"&&this.activate_for_existing_customer===!0)&&this.activate_for_existing_customer!==null&&(h.activate_for_existing_customer=this.activate_for_existing_customer),h})}p.promotions.length>0&&(this.isUpdatingPromotions=!0,await b.put("/api/promotions",p),this.showPromotions(),this.notificationState.showSuccessNotification("Promotions updated")),p.promotions.forEach(t=>{this.checkedRows[t.id]!==void 0&&(this.checkedRows[t.id]=!1)}),this.selectAll=!1,this.resetBulkUpdateFields()}catch(p){const t=((n=(a=p==null?void 0:p.response)==null?void 0:a.data)==null?void 0:n.message)||(p==null?void 0:p.message)||"Something went wrong while updating promotions";this.notificationState.showWarningNotification(t),this.formState.setServerFormErrors(p),console.error("Failed to update promotions:",p)}finally{this.isUpdatingPromotions=!1,this.$refs.updatePromotionsModal.hideModal()}},async deletePromotions(){var u,a;try{const n=this.promotionForms.filter(t=>this.checkedRows[t.id]).map(t=>t.id).filter(t=>!this.isDeletingPromotionIds.includes(t));if(n.length===0)return;this.isDeletingPromotionIds.push(...n);const p={data:{store_id:this.store.id,promotion_ids:n}};await b.delete("/api/promotions",p),this.notificationState.showSuccessNotification(n.length==1?"Promotion deleted":"Promotions deleted"),this.promotionState.promotionForms=this.promotionForms.filter(t=>!n.includes(t.id)),this.promotionForms.length==0&&this.showPromotions(),this.isDeletingPromotionIds=this.isDeletingPromotionIds.filter(t=>!n.includes(t)),n.forEach(t=>{this.checkedRows[t]!==void 0&&(this.checkedRows[t]=!1)}),this.selectAll=!1}catch(n){const p=((a=(u=n==null?void 0:n.response)==null?void 0:u.data)==null?void 0:a.message)||(n==null?void 0:n.message)||"Something went wrong while deleting promotions";this.notificationState.showWarningNotification(p),this.formState.setServerFormErrors(n),console.error("Failed to delete promotions:",n)}finally{this.$refs.deletePromotionsModal.hideModal()}},async deletePromotion(){var u,a;try{if(this.isDeletingPromotionIds.includes(this.deletablePromotion.id))return;this.isDeletingPromotionIds.push(this.deletablePromotion.id);const n={data:{store_id:this.store.id}};await b.delete(`/api/promotions/${this.deletablePromotion.id}`,n),this.notificationState.showSuccessNotification("Promotion deleted"),this.promotionState.promotionForms=this.promotionForms.filter(p=>p.id!=this.deletablePromotion.id),this.promotionForms.length==0&&this.showPromotions()}catch(n){const p=((a=(u=n==null?void 0:n.response)==null?void 0:u.data)==null?void 0:a.message)||(n==null?void 0:n.message)||"Something went wrong while deleting promotion";this.notificationState.showWarningNotification(p),this.formState.setServerFormErrors(n),console.error("Failed to delete promotion:",n)}finally{this.isDeletingPromotionIds.splice(this.isDeletingPromotionIds.findIndex(n=>n==this.deletablePromotion.id),1),this.$refs.deletePromotionModal.hideModal()}},resetBulkUpdateFields(){this.active=!0,this.offer_discount=!1,this.discount_rate_type="flat",this.discount_percentage_rate="0",this.discount_flat_rate="0.00",this.offer_free_delivery=!1,this.activate_using_minimum_grand_total=!1,this.minimum_grand_total="0.00",this.activate_using_minimum_total_products=!1,this.minimum_total_products="1",this.activate_using_minimum_total_product_quantities=!1,this.minimum_total_product_quantities="1",this.activate_using_start_datetime=!1,this.start_datetime=null,this.activate_using_end_datetime=!1,this.end_datetime=null,this.activate_using_hours_of_day=!1,this.hours_of_day=[],this.activate_using_days_of_the_week=!1,this.days_of_the_week=[],this.activate_using_days_of_the_month=!1,this.days_of_the_month=[],this.activate_using_months_of_the_year=!1,this.months_of_the_year=[],this.activate_using_usage_limit=!1,this.remaining_quantity="0",this.activate_for_new_customer=!1,this.activate_for_existing_customer=!1},setActionButtons(){this.changeHistoryState.removeButtons(),this.changeHistoryState.addDiscardButton(),this.changeHistoryState.addActionButton("Save Changes",this.updatePromotions,"primary",null)},setPromotionForms(u){this.promotionState.promotionForms=u}},unmounted(){this.promotionState.reset()},created(){this.setActionButtons();const u=["undo","redo","jumpToHistory","resetHistoryToCurrent","resetHistoryToOriginal"];for(let a=0;a<u.length;a++){let n=u[a];this.changeHistoryState.listeners[n]=this.setPromotionForms}this.isLoadingPromotions=!0,this.searchTerm=this.$route.query.searchTerm,this.$route.query.filterExpressions&&(this.filterExpressions=this.$route.query.filterExpressions.split("|")),this.$route.query.sortingExpressions&&(this.sortingExpressions=this.$route.query.sortingExpressions.split("|")),this.store&&this.showPromotions()}},$={class:"pt-24 px-8 relative select-none"},ee={key:0,class:"flex flex-col items-center justify-center bg-linear-to-b from-white p-8 rounded-2xl"},te={class:"bg-blue-200 text-blue-900 rounded-full p-10 mt-8 mb-16"},oe={class:"mt-10"},ae={key:1,class:"relative bg-white/80 p-4 rounded-md mb-60"},ie={class:"flex items-center space-x-2"},se={scope:"col",class:"whitespace-nowrap align-center px-4 py-4"},re={key:0,scope:"col",class:"whitespace-nowrap align-center pr-4 py-4"},le={key:0,class:"whitespace-nowrap align-center pr-4 py-4"},ne={key:1,class:"whitespace-nowrap align-center pr-4 py-4"},ue={key:2,class:"whitespace-nowrap align-center pr-4 py-4"},me={key:3,class:"whitespace-nowrap align-center pr-4 py-4"},de={class:"flex items-center space-x-2"},_e={key:4,class:"whitespace-nowrap align-center pr-4 py-4"},ce={class:"flex items-center space-x-2"},he={key:5,class:"whitespace-nowrap align-center pr-4 py-4"},pe={class:"flex items-center justify-center"},ge={key:6,class:"whitespace-nowrap align-center pr-4 py-4"},fe={class:"flex items-center space-x-2"},ye={key:7,class:"whitespace-nowrap align-center pr-4 py-4"},ve={class:"flex items-center space-x-2"},Ve={key:8,class:"whitespace-nowrap align-center pr-4 py-4"},we={class:"flex items-center space-x-2"},be={key:9,class:"whitespace-nowrap align-center pr-4 py-4"},ke={class:"flex items-center space-x-2"},Se={key:10,class:"whitespace-nowrap align-center pr-4 py-4"},Fe={class:"flex items-center space-x-2"},Ue={key:11,class:"whitespace-nowrap align-center pr-4 py-4"},Pe={class:"flex items-center space-x-2"},Ce={key:12,class:"whitespace-nowrap align-center pr-4 py-4"},Te={class:"flex items-center space-x-2"},De={key:13,class:"whitespace-nowrap align-center pr-4 py-4"},Ee={class:"flex items-center space-x-2"},Me={key:14,class:"whitespace-nowrap align-center pr-4 py-4"},xe={class:"flex items-center space-x-2"},Ae={key:15,class:"whitespace-nowrap align-center pr-4 py-4"},qe={class:"flex items-center space-x-2"},Re={key:16,class:"whitespace-nowrap align-center pr-4 py-4"},Le={class:"flex items-center justify-center"},He={key:17,class:"whitespace-nowrap align-center pr-4 py-4"},Oe={class:"flex items-center justify-center"},Ne={key:18,class:"align-center pr-4 py-4"},Be={class:"flex items-center space-x-4"},je=["onClick"],We=["onClick"],ze={class:"space-y-4 mb-8"},Je={class:"p-4 bg-blue-50 rounded-lg space-y-4"},Ge={class:"p-4 bg-indigo-50 rounded-lg space-y-4"},Ye={class:"flex space-x-2 items-center p-4 text-xs bg-red-50 rounded-lg mb-8"},Qe={class:"text-red-500"},Ze={key:0,class:"mb-8"},Ke={class:"font-bold text-black"};function Xe(u,a,n,p,t,e){const h=v("TicketPercent"),k=v("Button"),P=v("Dropdown"),m=v("Input"),S=v("Select"),F=v("Datepicker"),V=v("SelectTags"),H=v("Loader"),O=v("Table"),C=v("Modal");return l(),c("div",$,[t.hasInitialResults==!1&&!this.hasFilterExpressions?(l(),c("div",ee,[d("div",te,[r(h,{size:"40"})]),a[32]||(a[32]=d("div",{class:"text-center max-w-md"},[d("h1",{class:"text-3xl font-extrabold mb-3"}," Bulk Edit Products "),d("p",{class:"text-base leading-relaxed"}," Your promotions will appear here for fast bulk editing. Get started by creating your first promotion. ")],-1)),d("div",oe,[r(k,{size:"lg",type:"primary",leftIcon:t.Plus,leftIconSize:"20",skeleton:!e.store,action:e.onAddPromotion},{default:y(()=>[...a[31]||(a[31]=[d("span",{class:"ml-1"},"Create Promotion",-1)])]),_:1},8,["leftIcon","skeleton","action"])])])):(l(),c("div",ae,[a[37]||(a[37]=d("h1",{class:"text-lg font-semibold mb-4"},"Bulk Edit Promotions",-1)),r(O,{onSearch:e.search,columns:t.columns,perPage:t.perPage,resource:"promotions",onPaginate:e.paginate,onRefresh:e.showPromotions,searchTerm:t.searchTerm,pagination:t.pagination,isLoading:t.isLoadingPromotions,onUpdatedColumns:e.updatedColumns,onUpdatedFilters:e.updatedFilters,onUpdatedSorting:e.updatedSorting,onUpdatedPerPage:e.updatedPerPage,filterExpressions:t.filterExpressions,sortingExpressions:t.sortingExpressions,searchPlaceholder:"Promotion name, code, or description"},{afterRefreshButton:y(()=>[d("div",ie,[r(k,{size:"xs",type:"primary",leftIcon:t.Plus,action:e.onAddPromotion},{default:y(()=>[...a[33]||(a[33]=[d("span",null,"Add Promotion",-1)])]),_:1},8,["leftIcon","action"])])]),belowToolbar:y(()=>[d("div",{class:M([{hidden:e.totalCheckedRows==0},"bg-gray-50 border border-gray-200 flex items-center mb-2 p-4 rounded-lg shadow space-x-2"])},[a[34]||(a[34]=d("span",{class:"text-sm"},"Actions: ",-1)),r(P,{ref:"actionDropdown",dropdownClasses:"w-72",options:t.bulkSelectionOptions},{triggerText:y(()=>[d("span",null,"Select Action ("+U(`${e.totalCheckedRows} selected`)+")",1)]),_:1},8,["options"])],2)]),head:y(()=>[d("tr",null,[d("th",se,[r(m,{type:"checkbox",modelValue:t.selectAll,"onUpdate:modelValue":a[0]||(a[0]=s=>t.selectAll=s)},null,8,["modelValue"])]),(l(!0),c(w,null,D(t.columns,(s,o)=>(l(),c(w,{key:o},[s.active?(l(),c("th",re,U(s.name),1)):_("",!0)],64))),128)),a[35]||(a[35]=d("th",{scope:"col",class:"whitespace-nowrap align-center pr-4 py-4"},null,-1))])]),body:y(()=>[(l(!0),c(w,null,D(e.promotionForms,(s,o)=>(l(),c("tr",{key:s.id,class:M([t.checkedRows[s.id]?"bg-blue-50":"bg-white hover:bg-gray-50","group cursor-pointer border-b border-blue-100"])},[(l(!0),c(w,null,D(t.columns,(g,T)=>(l(),c(w,{key:T},[T==0?(l(),c("td",{key:0,onClick:a[1]||(a[1]=E(()=>{},["stop"])),class:"whitespace-nowrap align-center px-4 py-4"},[r(m,{type:"checkbox",modelValue:t.checkedRows[s.id],"onUpdate:modelValue":i=>t.checkedRows[s.id]=i},null,8,["modelValue","onUpdate:modelValue"])])):_("",!0),g.active?(l(),c(w,{key:1},[g.name=="Name"?(l(),c("td",le,[r(m,{type:"text",class:"min-w-40",modelValue:e.promotionForms[o].name,"onUpdate:modelValue":i=>e.promotionForms[o].name=i,onInput:i=>e.captureChange(o,"Name changed"),errorText:e.formState.getFormError(`promotion.${o}.name`)},null,8,["modelValue","onUpdate:modelValue","onInput","errorText"])])):_("",!0),g.name=="Description"?(l(),c("td",ne,[r(m,{rows:"2",type:"textarea",class:"min-w-60",modelValue:e.promotionForms[o].description,"onUpdate:modelValue":i=>e.promotionForms[o].description=i,onInput:i=>e.captureChange(o,"Description changed"),errorText:e.formState.getFormError(`promotion.${o}.description`)},null,8,["modelValue","onUpdate:modelValue","onInput","errorText"])])):_("",!0),g.name=="Active"?(l(),c("td",ue,[r(S,{class:"min-w-40",search:!1,options:t.activeTypes,modelValue:e.promotionForms[o].active,"onUpdate:modelValue":i=>e.promotionForms[o].active=i,onChange:i=>e.captureChange(o,"Active status changed"),errorText:e.formState.getFormError(`promotion.${o}.active`)},null,8,["options","modelValue","onUpdate:modelValue","onChange","errorText"])])):_("",!0),g.name=="Code"?(l(),c("td",me,[d("div",de,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_code,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_code=i,onChange:i=>e.captureChange(o,"Activate using code changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(m,{type:"text",class:"min-w-40",modelValue:e.promotionForms[o].code,"onUpdate:modelValue":i=>e.promotionForms[o].code=i,onInput:i=>e.captureChange(o,"Code changed"),disabled:!e.promotionForms[o].activate_using_code,errorText:e.formState.getFormError(`promotion.${o}.code`)},null,8,["modelValue","onUpdate:modelValue","onInput","disabled","errorText"])])])):_("",!0),g.name=="Discount"?(l(),c("td",_e,[d("div",ce,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].offer_discount,"onUpdate:modelValue":i=>e.promotionForms[o].offer_discount=i,onChange:i=>e.captureChange(o,"Offer discount changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(S,{class:"min-w-40",search:!1,options:t.discountRateTypes,disabled:!e.promotionForms[o].offer_discount,modelValue:e.promotionForms[o].discount_rate_type,"onUpdate:modelValue":i=>e.promotionForms[o].discount_rate_type=i,onChange:i=>e.captureChange(o,"Discount rate type changed"),errorText:e.formState.getFormError(`promotion.${o}.discount_rate_type`)},null,8,["options","disabled","modelValue","onUpdate:modelValue","onChange","errorText"]),e.promotionForms[o].offer_discount&&e.promotionForms[o].discount_rate_type=="percentage"?(l(),f(m,{key:0,type:"percentage",class:"min-w-40",modelValue:e.promotionForms[o].discount_percentage_rate,"onUpdate:modelValue":i=>e.promotionForms[o].discount_percentage_rate=i,onInput:i=>e.captureChange(o,"Discount percentage rate changed"),errorText:e.formState.getFormError(`promotion.${o}.discount_percentage_rate`)},null,8,["modelValue","onUpdate:modelValue","onInput","errorText"])):_("",!0),e.promotionForms[o].offer_discount&&e.promotionForms[o].discount_rate_type=="flat"?(l(),f(m,{key:1,type:"money",class:"min-w-40",modelValue:e.promotionForms[o].discount_flat_rate,"onUpdate:modelValue":i=>e.promotionForms[o].discount_flat_rate=i,onInput:i=>e.captureChange(o,"Discount flat rate changed"),errorText:e.formState.getFormError(`promotion.${o}.discount_flat_rate`)},null,8,["modelValue","onUpdate:modelValue","onInput","errorText"])):_("",!0)])])):_("",!0),g.name=="Free Delivery"?(l(),c("td",he,[d("div",pe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].offer_free_delivery,"onUpdate:modelValue":i=>e.promotionForms[o].offer_free_delivery=i,onChange:i=>e.captureChange(o,"Offer free delivery changed"),errorText:e.formState.getFormError(`promotion.${o}.offer_free_delivery`)},null,8,["modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Minimum Grand Total"?(l(),c("td",ge,[d("div",fe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_minimum_grand_total,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_minimum_grand_total=i,onChange:i=>e.captureChange(o,"Activate using minimum grand total changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(m,{type:"money",class:"min-w-40",disabled:!e.promotionForms[o].activate_using_minimum_grand_total,modelValue:e.promotionForms[o].minimum_grand_total,"onUpdate:modelValue":i=>e.promotionForms[o].minimum_grand_total=i,onInput:i=>e.captureChange(o,"Minimum grand total changed"),errorText:e.formState.getFormError(`promotion.${o}.minimum_grand_total`)},null,8,["disabled","modelValue","onUpdate:modelValue","onInput","errorText"])])])):_("",!0),g.name=="Minimum Total Products"?(l(),c("td",ye,[d("div",ve,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_minimum_total_products,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_minimum_total_products=i,onChange:i=>e.captureChange(o,"Activate using minimum total products changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(m,{type:"number",class:"min-w-40",disabled:!e.promotionForms[o].activate_using_minimum_total_products,modelValue:e.promotionForms[o].minimum_total_products,"onUpdate:modelValue":i=>e.promotionForms[o].minimum_total_products=i,onInput:i=>e.captureChange(o,"Minimum total products changed"),errorText:e.formState.getFormError(`promotion.${o}.minimum_total_products`)},null,8,["disabled","modelValue","onUpdate:modelValue","onInput","errorText"])])])):_("",!0),g.name=="Minimum Total Product Quantities"?(l(),c("td",Ve,[d("div",we,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_minimum_total_product_quantities,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_minimum_total_product_quantities=i,onChange:i=>e.captureChange(o,"Activate using minimum total product quantities changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(m,{type:"number",class:"min-w-40",disabled:!e.promotionForms[o].activate_using_minimum_total_product_quantities,modelValue:e.promotionForms[o].minimum_total_product_quantities,"onUpdate:modelValue":i=>e.promotionForms[o].minimum_total_product_quantities=i,onInput:i=>e.captureChange(o,"Minimum total product quantities changed"),errorText:e.formState.getFormError(`promotion.${o}.minimum_total_product_quantities`)},null,8,["disabled","modelValue","onUpdate:modelValue","onInput","errorText"])])])):_("",!0),g.name=="Start Datetime"?(l(),c("td",be,[d("div",ke,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_start_datetime,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_start_datetime=i,onChange:i=>e.captureChange(o,"Activate using start datetime changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(F,{class:"w-60",enableTimePicker:!0,format:"dd MMM yyyy HH:mm",modelType:"yyyy-MM-dd HH:mm",disabled:!e.promotionForms[o].activate_using_start_datetime,modelValue:e.promotionForms[o].start_datetime,"onUpdate:modelValue":i=>e.promotionForms[o].start_datetime=i,onChange:i=>e.captureChange(o,"Start datetime changed"),errorText:e.formState.getFormError(`promotion.${o}.start_datetime`)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="End Datetime"?(l(),c("td",Se,[d("div",Fe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_end_datetime,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_end_datetime=i,onChange:i=>e.captureChange(o,"Activate using end datetime changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(F,{class:"w-60",enableTimePicker:!0,format:"dd MMM yyyy HH:mm",modelType:"yyyy-MM-dd HH:mm",disabled:!e.promotionForms[o].activate_using_end_datetime,modelValue:e.promotionForms[o].end_datetime,"onUpdate:modelValue":i=>e.promotionForms[o].end_datetime=i,onChange:i=>e.captureChange(o,"End datetime changed"),errorText:e.formState.getFormError(`promotion.${o}.end_datetime`)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Hours of Day"?(l(),c("td",Ue,[d("div",Pe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_hours_of_day,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_hours_of_day=i,onChange:i=>e.captureChange(o,"Activate using hours of day changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(V,{class:"min-w-60",options:t.hourOptions,disabled:!e.promotionForms[o].activate_using_hours_of_day,modelValue:e.promotionForms[o].hours_of_day,"onUpdate:modelValue":i=>e.promotionForms[o].hours_of_day=i,onChange:i=>e.captureChange(o,"Hours of day changed"),errorText:e.formState.getFormError(`promotion.${o}.hours_of_day`)},null,8,["options","disabled","modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Days of the Week"?(l(),c("td",Ce,[d("div",Te,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_days_of_the_week,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_days_of_the_week=i,onChange:i=>e.captureChange(o,"Activate using days of the week changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(V,{class:"min-w-60",options:t.dayOptions,disabled:!e.promotionForms[o].activate_using_days_of_the_week,modelValue:e.promotionForms[o].days_of_the_week,"onUpdate:modelValue":i=>e.promotionForms[o].days_of_the_week=i,onChange:i=>e.captureChange(o,"Days of the week changed"),errorText:e.formState.getFormError(`promotion.${o}.days_of_the_week`)},null,8,["options","disabled","modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Days of the Month"?(l(),c("td",De,[d("div",Ee,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_days_of_the_month,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_days_of_the_month=i,onChange:i=>e.captureChange(o,"Activate using days of the month changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(V,{class:"min-w-60",options:t.dayOfMonthOptions,disabled:!e.promotionForms[o].activate_using_days_of_the_month,modelValue:e.promotionForms[o].days_of_the_month,"onUpdate:modelValue":i=>e.promotionForms[o].days_of_the_month=i,onChange:i=>e.captureChange(o,"Days of the month changed"),errorText:e.formState.getFormError(`promotion.${o}.days_of_the_month`)},null,8,["options","disabled","modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Months of the Year"?(l(),c("td",Me,[d("div",xe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_months_of_the_year,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_months_of_the_year=i,onChange:i=>e.captureChange(o,"Activate using months of the year changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(V,{class:"min-w-60",options:t.monthOptions,disabled:!e.promotionForms[o].activate_using_months_of_the_year,modelValue:e.promotionForms[o].months_of_the_year,"onUpdate:modelValue":i=>e.promotionForms[o].months_of_the_year=i,onChange:i=>e.captureChange(o,"Months of the year changed"),errorText:e.formState.getFormError(`promotion.${o}.months_of_the_year`)},null,8,["options","disabled","modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Usage Limit"?(l(),c("td",Ae,[d("div",qe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_using_usage_limit,"onUpdate:modelValue":i=>e.promotionForms[o].activate_using_usage_limit=i,onChange:i=>e.captureChange(o,"Activate using usage limit changed")},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(m,{type:"number",class:"min-w-40",disabled:!e.promotionForms[o].activate_using_usage_limit,modelValue:e.promotionForms[o].remaining_quantity,"onUpdate:modelValue":i=>e.promotionForms[o].remaining_quantity=i,onInput:i=>e.captureChange(o,"Remaining quantity changed"),errorText:e.formState.getFormError(`promotion.${o}.remaining_quantity`)},null,8,["disabled","modelValue","onUpdate:modelValue","onInput","errorText"])])])):_("",!0),g.name=="New Customer"?(l(),c("td",Re,[d("div",Le,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_for_new_customer,"onUpdate:modelValue":i=>e.promotionForms[o].activate_for_new_customer=i,onChange:i=>e.captureChange(o,"Activate for new customer changed"),errorText:e.formState.getFormError(`promotion.${o}.activate_for_new_customer`)},null,8,["modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),g.name=="Existing Customer"?(l(),c("td",He,[d("div",Oe,[r(m,{type:"checkbox",modelValue:e.promotionForms[o].activate_for_existing_customer,"onUpdate:modelValue":i=>e.promotionForms[o].activate_for_existing_customer=i,onChange:i=>e.captureChange(o,"Activate for existing customer changed"),errorText:e.formState.getFormError(`promotion.${o}.activate_for_existing_customer`)},null,8,["modelValue","onUpdate:modelValue","onChange","errorText"])])])):_("",!0),T==t.columns.length-1?(l(),c("td",Ne,[d("div",Be,[e.isDeletingPromotion(e.promotionForms[o])?_("",!0):(l(),c("span",{key:0,onClick:E(i=>e.onView(e.promotionForms[o]),["stop","prevent"]),class:"text-sm font-medium text-blue-600 dark:text-blue-500 hover:underline"},"View",8,je)),e.isDeletingPromotion(e.promotionForms[o])?(l(),f(H,{key:1,type:"danger"},{default:y(()=>[...a[36]||(a[36]=[d("span",{class:"text-xs ml-2"},"Deleting...",-1)])]),_:1})):(l(),c("span",{key:2,onClick:E(i=>e.showDeleteConfirmationModal(e.promotionForms[o]),["stop","prevent"]),class:"text-sm font-medium text-red-600 dark:text-red-500 hover:underline"},"Delete",8,We))])])):_("",!0)],64)):_("",!0)],64))),128))],2))),128))]),_:1},8,["onSearch","columns","perPage","onPaginate","onRefresh","searchTerm","pagination","isLoading","onUpdatedColumns","onUpdatedFilters","onUpdatedSorting","onUpdatedPerPage","filterExpressions","sortingExpressions"])])),r(C,{size:"md",approveType:"primary",scrollOnContent:!1,ref:"updatePromotionsModal",leftApproveIcon:t.RefreshCcw,approveText:"Update Promotions",approveLoading:t.isUpdatingPromotions,approveAction:()=>e.updatePromotions("bulk")},{content:y(()=>[a[40]||(a[40]=d("p",{class:"text-lg font-bold border-b border-dashed border-gray-200 pb-4 mb-4"},"Update Promotions",-1)),d("div",ze,[r(S,{class:"w-full",search:!1,label:"Update Scope",modelValue:t.updateScope,"onUpdate:modelValue":a[2]||(a[2]=s=>t.updateScope=s),options:t.updateScopeOptions,placeholder:"Select update scope"},null,8,["modelValue","options"]),r(S,{class:"w-full",search:!1,label:"Status",modelValue:t.active,"onUpdate:modelValue":a[3]||(a[3]=s=>t.active=s),options:t.activeTypes,placeholder:"Select status"},null,8,["modelValue","options"]),d("div",Je,[a[38]||(a[38]=d("p",{class:"text-lg text-gray-700 font-semibold"},"Offers",-1)),r(m,{type:"checkbox",modelValue:t.offer_discount,"onUpdate:modelValue":a[4]||(a[4]=s=>t.offer_discount=s),inputLabel:"Offer Discount"},null,8,["modelValue"]),t.offer_discount?(l(),c(w,{key:0},[r(S,{class:"w-full",search:!1,label:"Discount Rate Type",options:t.discountRateTypes,modelValue:t.discount_rate_type,"onUpdate:modelValue":a[5]||(a[5]=s=>t.discount_rate_type=s),placeholder:"Select discount rate type"},null,8,["options","modelValue"]),t.discount_rate_type=="percentage"?(l(),f(m,{key:0,class:"w-full",type:"percentage",label:"Discount Percentage Rate",modelValue:t.discount_percentage_rate,"onUpdate:modelValue":a[6]||(a[6]=s=>t.discount_percentage_rate=s),placeholder:"Enter discount percentage"},null,8,["modelValue"])):_("",!0),t.discount_rate_type=="flat"?(l(),f(m,{key:1,type:"money",class:"w-full",label:"Discount Flat Rate",modelValue:t.discount_flat_rate,"onUpdate:modelValue":a[7]||(a[7]=s=>t.discount_flat_rate=s),placeholder:"Enter flat discount amount"},null,8,["modelValue"])):_("",!0)],64)):_("",!0),r(m,{type:"checkbox",modelValue:t.offer_free_delivery,"onUpdate:modelValue":a[8]||(a[8]=s=>t.offer_free_delivery=s),inputLabel:"Offer Free Delivery"},null,8,["modelValue"])]),d("div",Ge,[a[39]||(a[39]=d("p",{class:"text-lg text-gray-700 font-semibold"},"Conditions",-1)),r(m,{type:"checkbox",modelValue:t.activate_using_minimum_grand_total,"onUpdate:modelValue":a[9]||(a[9]=s=>t.activate_using_minimum_grand_total=s),inputLabel:"Activate Using Minimum Grand Total"},null,8,["modelValue"]),t.activate_using_minimum_grand_total?(l(),f(m,{key:0,type:"money",class:"w-full",modelValue:t.minimum_grand_total,"onUpdate:modelValue":a[10]||(a[10]=s=>t.minimum_grand_total=s),placeholder:"Enter minimum grand total"},null,8,["modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_minimum_total_products,"onUpdate:modelValue":a[11]||(a[11]=s=>t.activate_using_minimum_total_products=s),inputLabel:"Activate Using Minimum Total Products"},null,8,["modelValue"]),t.activate_using_minimum_total_products?(l(),f(m,{key:1,type:"number",class:"w-full",modelValue:t.minimum_total_products,"onUpdate:modelValue":a[12]||(a[12]=s=>t.minimum_total_products=s),placeholder:"Enter minimum total products"},null,8,["modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_minimum_total_product_quantities,"onUpdate:modelValue":a[13]||(a[13]=s=>t.activate_using_minimum_total_product_quantities=s),inputLabel:"Activate Using Minimum Total Product Quantities"},null,8,["modelValue"]),t.activate_using_minimum_total_product_quantities?(l(),f(m,{key:2,type:"number",class:"w-full",modelValue:t.minimum_total_product_quantities,"onUpdate:modelValue":a[14]||(a[14]=s=>t.minimum_total_product_quantities=s),placeholder:"Enter minimum total product quantities"},null,8,["modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_start_datetime,"onUpdate:modelValue":a[15]||(a[15]=s=>t.activate_using_start_datetime=s),inputLabel:"Activate Using Start Datetime"},null,8,["modelValue"]),t.activate_using_start_datetime?(l(),f(F,{key:3,enableTimePicker:!0,modelValue:t.start_datetime,"onUpdate:modelValue":a[16]||(a[16]=s=>t.start_datetime=s),format:"dd MMM yyyy HH:mm",modelType:"yyyy-MM-dd HH:mm",placeholder:"Select start datetime"},null,8,["modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_end_datetime,"onUpdate:modelValue":a[17]||(a[17]=s=>t.activate_using_end_datetime=s),inputLabel:"Activate Using End Datetime"},null,8,["modelValue"]),t.activate_using_end_datetime?(l(),f(F,{key:4,modelValue:t.end_datetime,"onUpdate:modelValue":a[18]||(a[18]=s=>t.end_datetime=s),enableTimePicker:!0,format:"dd MMM yyyy HH:mm",modelType:"yyyy-MM-dd HH:mm",placeholder:"Select end datetime"},null,8,["modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_hours_of_day,"onUpdate:modelValue":a[19]||(a[19]=s=>t.activate_using_hours_of_day=s),inputLabel:"Activate Using Hours of Day"},null,8,["modelValue"]),t.activate_using_hours_of_day?(l(),f(V,{key:5,class:"w-full",options:t.hourOptions,modelValue:t.hours_of_day,"onUpdate:modelValue":a[20]||(a[20]=s=>t.hours_of_day=s),placeholder:"Select hours"},null,8,["options","modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_days_of_the_week,"onUpdate:modelValue":a[21]||(a[21]=s=>t.activate_using_days_of_the_week=s),inputLabel:"Activate Using Days of the Week"},null,8,["modelValue"]),t.activate_using_days_of_the_week?(l(),f(V,{key:6,class:"w-full",options:t.dayOptions,placeholder:"Select days",modelValue:t.days_of_the_week,"onUpdate:modelValue":a[22]||(a[22]=s=>t.days_of_the_week=s)},null,8,["options","modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_days_of_the_month,"onUpdate:modelValue":a[23]||(a[23]=s=>t.activate_using_days_of_the_month=s),inputLabel:"Activate Using Days of the Month"},null,8,["modelValue"]),t.activate_using_days_of_the_month?(l(),f(V,{key:7,class:"w-full",placeholder:"Select days",modelValue:t.days_of_the_month,"onUpdate:modelValue":a[24]||(a[24]=s=>t.days_of_the_month=s),options:t.dayOfMonthOptions},null,8,["modelValue","options"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_months_of_the_year,"onUpdate:modelValue":a[25]||(a[25]=s=>t.activate_using_months_of_the_year=s),inputLabel:"Activate Using Months of the Year"},null,8,["modelValue"]),t.activate_using_months_of_the_year?(l(),f(V,{key:8,class:"w-full",options:t.monthOptions,placeholder:"Select months",modelValue:t.months_of_the_year,"onUpdate:modelValue":a[26]||(a[26]=s=>t.months_of_the_year=s)},null,8,["options","modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_using_usage_limit,"onUpdate:modelValue":a[27]||(a[27]=s=>t.activate_using_usage_limit=s),inputLabel:"Activate Using Usage Limit"},null,8,["modelValue"]),t.activate_using_usage_limit?(l(),f(m,{key:9,type:"number",class:"w-full",modelValue:t.remaining_quantity,"onUpdate:modelValue":a[28]||(a[28]=s=>t.remaining_quantity=s),placeholder:"Enter remaining quantity"},null,8,["modelValue"])):_("",!0),r(m,{type:"checkbox",modelValue:t.activate_for_new_customer,"onUpdate:modelValue":a[29]||(a[29]=s=>t.activate_for_new_customer=s),inputLabel:"Activate for New Customer"},null,8,["modelValue"]),r(m,{type:"checkbox",modelValue:t.activate_for_existing_customer,"onUpdate:modelValue":a[30]||(a[30]=s=>t.activate_for_existing_customer=s),inputLabel:"Activate for Existing Customer"},null,8,["modelValue"])])])]),_:1},8,["leftApproveIcon","approveLoading","approveAction"]),r(C,{approveType:"danger",ref:"deletePromotionsModal",leftApproveIcon:t.Trash2,approveAction:e.deletePromotions,approveLoading:e.isDeletingPromotions,approveText:e.totalCheckedRows==1?"Delete Promotion":"Delete Promotions"},{content:y(()=>[a[42]||(a[42]=d("p",{class:"text-lg font-bold border-b border-gray-300 border-dashed pb-4 mb-4"},"Delete Promotions",-1)),d("div",Ye,[a[41]||(a[41]=d("svg",{class:"w-6 h-6 text-red-500 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),d("span",Qe,"Are you sure you want to delete "+U(e.totalCheckedRows>1?`these ${e.totalCheckedRows} promotions`:"this promotion")+"?",1)])]),_:1},8,["leftApproveIcon","approveAction","approveLoading","approveText"]),r(C,{approveType:"danger",ref:"deletePromotionModal",leftApproveIcon:t.Trash2,approveText:"Delete Promotion",approveAction:e.deletePromotion,approveLoading:e.isDeletingPromotion(t.deletablePromotion)},{content:y(()=>[a[45]||(a[45]=d("p",{class:"text-lg font-bold border-b border-dashed border-gray-200 pb-4 mb-4"},"Confirm Delete",-1)),t.deletablePromotion?(l(),c("p",Ze,[a[43]||(a[43]=x("Are you sure you want to permanently delete ",-1)),d("span",Ke,U(t.deletablePromotion.name),1),a[44]||(a[44]=x("?",-1))])):_("",!0)]),_:1},8,["leftApproveIcon","approveAction","approveLoading"])])}const Rt=K(I,[["render",Xe]]);export{Rt as default};
