import{I as O,a as L}from"./Input-CI0gKfpk.js";import{P as V}from"./Popover-1WlbTYZh.js";import{T as _}from"./x-Do1GLDRA.js";import{S as B}from"./Skeleton-KK-V-B9B.js";import{P as N,c as n,b as a,e as i,E as d,n as h,F as g,k as j,d as m,j as k,i as I,t as u,g as p,N as M,w as f,a as T,r as y,f as A,R as D,o as l}from"./app-CaCDZNvD.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={directives:{capitalize:L},components:{Input:O,Popover:V,Tooltip:_,Skeleton:B},props:{modelValue:{type:[String,Number,Boolean,null]},label:{type:[String,null],default:null},labelStyle:{type:[Object,String,null],default:null},secondaryLabel:{type:[String,null],default:null},secondaryLabelStyle:{type:[Object,String,null],default:null},popoverContent:{type:[String,null],default:null},tooltipContent:{type:[String,null],default:null},showAsterisk:{type:Boolean,default:!1},description:{type:[String,null],default:null},externalLinkName:{type:[String,null],default:null},externalLinkUrl:{type:[String,null],default:null},placeholder:{type:[String,null],default:null},disabled:{type:Boolean,default:!1},skeleton:{type:Boolean,default:!1},alignItems:{type:[String,null],default:"items-center"},errorText:{type:[String,null],default:null},options:{type:Array,default:()=>[]},search:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},noResultsText:{type:[String,null],default:"No results found"},searchableFields:{type:[Array,null],default:()=>["label","value"]},selectClasses:{type:[Array,Object,null],default:null},emits:["update:modelValue","change"]},data(){return{isOpen:!1,searchQuery:null,uniqueId:N("input")}},computed:{localModelValue:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t),this.$emit("change",t)}},selectedOption(){return this.options.find(t=>t.value===this.localModelValue)||null},filteredOptions(){return this.searchQuery?this.options.filter(t=>this.searchableFields.some(s=>{var e;return(e=t[s])==null?void 0:e.toLowerCase().includes(this.searchQuery.toLowerCase())})):this.options}},methods:{toggleDropdown(){this.disabled||(this.isOpen=!this.isOpen,this.search&&this.focusOnInput())},focusOnInput(){this.$nextTick(()=>{this.$refs.search&&document.activeElement!==this.$refs.search&&this.$refs.search.$refs.input.focus()})},selectOption(t){this.disabled||t.disabled||(this.isOpen=!1,this.searchQuery=null,this.localModelValue=t.value)},clearSelectedOption(){this.localModelValue=null},handleClickOutside(t){this.$refs.dropdown&&!this.$refs.dropdown.contains(t.target)&&(this.isOpen=!1,this.searchQuery=null)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},E={class:"w-full space-y-2"},P={key:0},U=["for"],F={key:3,class:"text-red-500"},q={key:2,class:"leading-4"},R={key:0,class:"text-xs text-gray-400 mr-1"},H=["href"],Z={key:2,class:"w-full relative",ref:"dropdown"},G={class:"flex items-center justify-between py-2 px-3"},J={class:"text-gray-700 text-sm truncate"},K={key:0,class:"w-full absolute z-20 mt-1 select-none bg-white border border-gray-300 rounded-md shadow-lg overflow-hidden"},W={key:0,class:"px-3 py-2 border-b border-gray-200 bg-white"},X={class:"max-h-60 overflow-auto"},Y=["onClick"],$={class:"truncate"},ee={key:0},te={key:1,class:"text-center px-4 py-2 text-gray-500 text-sm"},le={key:0,class:"scroll-to-error font-medium text-red-500 text-xs mt-1 ml-1"};function se(t,s,e,ne,c,r){const w=y("Popover"),b=y("Tooltip"),v=y("Skeleton"),x=y("Input"),S=D("capitalize");return l(),n("div",null,[a("div",E,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk||t.$slots.description||e.description||e.externalLinkName?(l(),n("div",P,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk?(l(),n("label",{key:0,for:c.uniqueId,class:h({"flex items-center text-sm leading-6 font-medium text-gray-900 space-x-1":!t.$slots.label})},[t.$slots.label?d(t.$slots,"label",{key:0}):(l(),n(g,{key:1},[j((l(),n("span",{style:k(e.labelStyle)},[I(u(e.label),1)],4)),[[S]]),e.secondaryLabel?(l(),n("span",{key:0,style:k(e.secondaryLabelStyle),class:h({"font-normal text-gray-400":!e.secondaryLabelStyle})},u(e.secondaryLabel),7)):i("",!0),e.popoverContent||t.$slots.popoverContent?(l(),m(w,{key:1,trigger:"hover",content:e.popoverContent},{default:p(()=>[d(t.$slots,"popoverContent")]),_:3},8,["content"])):i("",!0),e.tooltipContent||t.$slots.tooltip?(l(),m(b,{key:2,trigger:"hover",content:e.tooltipContent},{default:p(()=>[d(t.$slots,"tooltipContent")]),_:3},8,["content"])):i("",!0),e.showAsterisk?(l(),n("span",F,"*")):i("",!0)],64))],10,U)):i("",!0),t.$slots.description?d(t.$slots,"description",{key:1}):e.description||e.externalLinkName?(l(),n("div",q,[e.description?(l(),n("span",R,u(e.description),1)):i("",!0),e.externalLinkName?(l(),n("a",M({key:1,target:"_blank",href:e.externalLinkUrl},t.type==="file"?t.fileEventListeners:{},{class:"inline-block text-xs text-blue-700 hover:underline hover:text-blue-90"}),[a("span",null,u(e.externalLinkName),1),s[5]||(s[5]=a("svg",{class:"w-3 h-3 inline-block ml-0.5 -mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1))],16,H)):i("",!0)])):i("",!0)])):i("",!0),a("div",{class:h(["w-full flex",e.alignItems,{"opacity-50":e.disabled}])},[t.$slots.prefix?d(t.$slots,"prefix",{key:0}):i("",!0),e.skeleton?(l(),m(v,{key:1,height:"h-8",shine:!0,rounded:"rounded-lg"})):(l(),n("div",Z,[a("div",{onClick:s[3]||(s[3]=(...o)=>r.toggleDropdown&&r.toggleDropdown(...o)),class:h(e.selectClasses?e.selectClasses:["w-full select-none bg-white border border-gray-300 rounded-md",e.disabled?"cursor-not-allowed":"cursor-pointer"])},[a("div",G,[d(t.$slots,"selectedOption",{selectedOption:r.selectedOption},()=>{var o;return[a("span",J,u(((o=r.selectedOption)==null?void 0:o.label)??e.placeholder),1)]}),r.selectedOption&&e.clearable?(l(),n("svg",{key:0,onClick:s[0]||(s[0]=f((...o)=>r.clearSelectedOption&&r.clearSelectedOption(...o),["stop"])),class:"w-4 h-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[6]||(s[6]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):c.isOpen?(l(),n("svg",{key:1,onClick:s[1]||(s[1]=f((...o)=>r.toggleDropdown&&r.toggleDropdown(...o),["stop"])),class:"w-4 h-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[7]||(s[7]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"},null,-1)]))):(l(),n("svg",{key:2,onClick:s[2]||(s[2]=f((...o)=>r.toggleDropdown&&r.toggleDropdown(...o),["stop"])),class:"w-4 h-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},s[8]||(s[8]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1)])))])],2),c.isOpen?(l(),n("div",K,[e.search?(l(),n("div",W,[T(x,{ref:"search",type:"search",modelValue:c.searchQuery,"onUpdate:modelValue":s[4]||(s[4]=o=>c.searchQuery=o),placeholder:"Search..."},null,8,["modelValue"])])):i("",!0),a("ul",X,[(l(!0),n(g,null,A(r.filteredOptions,(o,C)=>(l(),n("li",{key:C,onClick:f(()=>r.selectOption(o),["stop"]),class:h(["px-4 py-2 text-sm flex justify-between items-center hover:bg-gray-100",o.disabled?"cursor-not-allowed text-gray-400":"cursor-pointer text-gray-700"])},[d(t.$slots,"option",{option:o,isSelected:o.value===r.localModelValue},()=>[a("span",$,u(o.label),1)]),o.value===r.localModelValue?(l(),n("span",ee,s[9]||(s[9]=[a("svg",{class:"w-4 h-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):i("",!0)],10,Y))),128))]),r.filteredOptions.length===0?(l(),n("div",te,u(e.noResultsText),1)):i("",!0)])):i("",!0)],512)),t.$slots.suffix?d(t.$slots,"suffix",{key:3}):i("",!0)],2)]),e.errorText?(l(),n("span",le,u(e.errorText),1)):i("",!0)])}const ce=Q(z,[["render",se]]);export{ce as S};
