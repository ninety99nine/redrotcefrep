import{c as l,b as s,t as u,o as n,d as g,e as p,g as S,r as m,a as c,h as D,l as R,m as E,F as v,f as k,w as L,p as V,q as F,n as z,s as q}from"./app-DF0QnPU4.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as x}from"./Button-D7saANb7.js";import{R as W}from"./rotate-ccw-DNqLINP0.js";import{I as B,M as Q}from"./Input-l_fu_pN6.js";import{M as j}from"./Modal-2gfRC5Dc.js";import{S as G}from"./SelectTags-CGXwqYy5.js";import{a as H,i as N}from"./stringUtils-Bvzw0-oW.js";import{S as Z}from"./square-pen-Dsgml8I1.js";import{S as Y}from"./store-C60pwJuE.js";import{P as J}from"./printer-CojlFmhU.js";import{P as T}from"./Pill-CNroauuQ.js";import{P as A}from"./Popover-DmuV9HMk.js";import{A as U}from"./arrow-down-to-line-CnHptEmP.js";import{Q as K}from"./browser-BzrQW3p_.js";import{S as I}from"./Skeleton-DAfv9Rr0.js";import{L as X}from"./Loader-CNeQD6e9.js";import{U as $}from"./user-round-__FQzFkU.js";import{T as M}from"./trash-2-WYhYg-cK.js";import{I as ee}from"./image-CUXpbRo-.js";import{G as te}from"./GoogleMaps-BjOyRaN2.js";import{E as P}from"./external-link-DSJddmew.js";import"./ShineEffect-BVNWGq73.js";import"./createLucideIcon-eN94IJz_.js";import"./Copy-DudZ5Uvs.js";import"./x-DdzUJel4.js";import"./refresh-ccw-BWvWNHcU.js";import"./circle-check-B1WpMwJ7.js";import"./circle-alert-ByShgotJ.js";import"./parsePhoneNumber-DR0S47Bc.js";import"./vue-draggable-next.esm-bundler-CKzVtxep.js";const re={data(){return{appName:"Perfect Order"}}},oe={class:"select-none flex justify-between items-center bg-blue-500 text-white py-2 px-4 mb-4 shadow-sm rounded-xl transition-all duration-300 border border-transparent hover:border-gray-300 hover:shadow-lg active:scale-95 active:shadow-md cursor-pointer group"},se={class:"flex items-center space-x-2"},ne={class:"space-y-1"},ie={class:"text-sm font-bold"};function ae(r,t,o,a,i,e){return n(),l("div",oe,[s("div",se,[t[1]||(t[1]=s("div",{class:"w-16 h-16 bg-gray-200 flex items-center justify-center rounded-full border-2 border-blue-400"},[s("img",{src:"/images/logo-black-transparent.png",alt:"Store Logo",class:"w-full h-full"})],-1)),s("div",ne,[s("h1",ie,"Powered By "+u(i.appName),1),t[0]||(t[0]=s("p",{class:"text-xs"},"Create your own shop today!",-1))])]),t[2]||(t[2]=s("div",null,[s("div",{class:"flex bg-blue-700 rounded-full px-2 py-1 -mt-2 mb-2"},[s("span",{class:"text-xs"},"AD")]),s("svg",{class:"w-6 h-6 group-hover:scale-150 transition-all duration-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])],-1))])}const de=y(re,[["render",ae]]),le={inject:["formState","orderState","storeState"],components:{Button:x},data(){return{}},computed:{order(){return this.orderState.order},hasOrder(){return this.order!=null},store(){return this.storeState.store},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore}},methods:{navigateToStorePaymentMethods(){this.$router.push({name:"show-shop-payment-methods",params:{alias:this.store.alias,order_id:this.order.id}})}}};function ce(r,t,o,a,i,e){const d=m("Button");return e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||!["paid","waiting confirmation"].includes(e.order.payment_status)?(n(),g(d,{key:0,size:"lg",type:"primary",class:"w-full",buttonClass:"w-full",action:e.navigateToStorePaymentMethods,skeleton:e.isLoadingStore||e.isLoadingOrder||!e.hasOrder},{default:S(()=>t[0]||(t[0]=[s("span",null,"Pay",-1)])),_:1,__:[0]},8,["action","skeleton"])):p("",!0)}const me=y(le,[["render",ce]]),he={inject:["formState","orderState","storeState"],components:{Button:x},data(){return{RotateCcw:W}},computed:{order(){return this.orderState.order},store(){return this.storeState.store},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore}},methods:{async orderAgain(){await this.$router.push({name:"show-checkout",params:{alias:this.store.alias}})}}};function ue(r,t,o,a,i,e){const d=m("Button");return n(),g(d,{size:"md",type:"light",class:"w-full",action:e.orderAgain,buttonClass:"w-full",leftIcon:i.RotateCcw,skeleton:e.isLoadingStore||e.isLoadingOrder},{default:S(()=>t[0]||(t[0]=[s("span",{class:"ml-1"},"Order Again",-1)])),_:1,__:[0]},8,["action","leftIcon","skeleton"])}const pe=y(he,[["render",ue]]),ge={inject:["orderState","storeState","notificationState"],components:{Input:B,Modal:j,Button:x,SelectTags:G},data(){return{Mail:Q,body:"",subject:"",ccEmails:[],receipientEmails:[]}},watch:{order(r,t){!t&&r&&this.prepareEmail()}},computed:{order(){return this.orderState.order},store(){return this.storeState.store},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore},orderPageUrl(){return window.location.origin+this.$router.resolve({name:"show-shop-order",params:{alias:this.store.alias,order_id:this.order.id}}).href}},methods:{isEmpty:N,isNotEmpty:H,prepareEmail(){this.body=this.generateBody(),this.subject=this.generateSubject(),this.isNotEmpty(this.order.customer_email)&&this.receipientEmails.push(this.order.customer_email)},generateSubject(){return`Your Order #${this.order.number} from ${this.store.name}`},generateBody(){let r=`Dear ${this.order.customer_first_name||this.order.customer_name||"Customer"},

Thank you for your order! Below are your order details:

Order #${this.order.number}

`;for(let i=0;i<this.order.order_products.length;i++){const e=this.order.order_products[i];r+=`${e.quantity}x ${e.name} ${e.grand_total.amount_with_currency}
`}r+=`
Grand Total: ${this.order.grand_total.amount_with_currency} (Qty: ${this.order.total_uncancelled_product_quantities})

`;const t=this.isNotEmpty(this.order.customer_name),o=this.isNotEmpty(this.order.customer_email),a=this.order.customer_mobile_number!=null;return t&&(r+=`Name: ${this.order.customer_name}
`),a&&(r+=`Mobile: ${this.order.customer_mobile_number.international}
`),o&&(r+=`Email: ${this.order.customer_email}
`),(t||a||o)&&(r+=`
`),this.order.delivery_method!=null&&(r+=`Delivery: ${this.order.delivery_method.name}
`),this.order.delivery_address!=null&&(r+=`Address: ${this.order.delivery_address.complete_address}
`),this.order.payment_method!=null&&(r+=`Payment: ${this.order.payment_method} (Confirm Payment)
`),r+=`
Order Link:
${this.orderPageUrl}
`,(this.store.email||this.store.whatsapp_mobile_number)&&(r+=`
If you have any questions, please contact us.

`),this.store.email&&(r+=`Email: ${this.store.email}
`),this.store.whatsapp_mobile_number&&(r+=`Whatsapp: ${this.store.whatsapp_mobile_number.international}
`),r+=`
Best regards,
${this.store.name}`,r},emailInvoice(){try{if(this.isEmailingOrder=!0,this.isEmpty(this.subject)){this.notificationState.showWarningNotification("Email subject is required");return}if(this.isEmpty(this.body)){this.notificationState.showWarningNotification("Email body is required");return}if(!this.receipientEmails.length){this.notificationState.showWarningNotification("Email recipient is required");return}const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;for(const e of this.receipientEmails)if(!r.test(e)){this.notificationState.showWarningNotification(`Invalid recipient email: ${e}`);return}for(const e of this.ccEmails)if(!r.test(e)){this.notificationState.showWarningNotification(`Invalid CC email: ${e}`);return}const t=this.receipientEmails.join(","),o=this.ccEmails.length?this.ccEmails.join(","):"";let a=`mailto:${t}`;const i=[];this.subject&&i.push(`subject=${encodeURIComponent(this.subject)}`),this.body&&i.push(`body=${encodeURIComponent(this.body)}`),o&&i.push(`cc=${encodeURIComponent(o)}`),i.length&&(a+=`?${i.join("&")}`),window.open(a,"_blank"),this.$refs.emailInvoiceModal.hideModal(),this.notificationState.showSuccessNotification("Email client opened with invoice details")}catch(r){const t=(r==null?void 0:r.message)||"Something went wrong while preparing the email";this.notificationState.showWarningNotification(t),console.error("Failed to prepare email:",r)}finally{this.isEmailingOrder=!1}}},created(){this.store&&this.order&&this.prepareEmail()}},fe={class:"space-y-4 mb-8"};function _e(r,t,o,a,i,e){const d=m("Button"),h=m("Input"),f=m("SelectTags"),w=m("Modal");return n(),g(w,{size:"md",class:"w-full",approveType:"primary",leftApproveIcon:i.Mail,ref:"emailInvoiceModal",scrollOnContent:!1,approveText:"Send Email",approveAction:e.emailInvoice},{trigger:S(_=>[c(d,{size:"md",type:"light",leftIcon:i.Mail,buttonClass:"w-full",wrapperClass:"w-full",action:_.showModal,skeleton:e.isLoadingStore||e.isLoadingOrder},{default:S(()=>t[4]||(t[4]=[s("span",{class:"ml-1"},"Email Invoice",-1)])),_:2,__:[4]},1032,["leftIcon","action","skeleton"])]),content:S(()=>[t[5]||(t[5]=s("p",{class:"text-lg font-bold border-b border-dashed border-gray-200 pb-4 mb-4"},"Email Invoice",-1)),s("div",fe,[c(h,{type:"text",label:"Subject",modelValue:i.subject,"onUpdate:modelValue":t[0]||(t[0]=_=>i.subject=_)},null,8,["modelValue"]),c(h,{rows:"8",label:"Body",resize:!0,modelValue:i.body,"onUpdate:modelValue":t[1]||(t[1]=_=>i.body=_),type:"textarea"},null,8,["modelValue"]),c(f,{label:"Send to",showOptions:!1,modelValue:i.receipientEmails,"onUpdate:modelValue":t[2]||(t[2]=_=>i.receipientEmails=_),placeholder:"Add emails to send to"},null,8,["modelValue"]),c(f,{label:"Cc Emails",modelValue:i.ccEmails,"onUpdate:modelValue":t[3]||(t[3]=_=>i.ccEmails=_),showOptions:!1,placeholder:"Add emails to cc"},null,8,["modelValue"])])]),_:1},8,["leftApproveIcon","approveAction"])}const ye=y(ge,[["render",_e]]),we={components:{PayButton:me,OrderAgainButton:pe,EmailInvoiceButton:ye}},be={class:"space-y-2 mb-8"},Se={class:"flex items-center justify-center space-x-2"};function Oe(r,t,o,a,i,e){const d=m("EmailInvoiceButton"),h=m("OrderAgainButton"),f=m("PayButton");return n(),l("div",be,[s("div",Se,[c(d),c(h)]),c(f)])}const xe=y(we,[["render",Oe]]),Ce={inject:["orderState","storeState"],components:{Button:x},data(){return{SquarePen:Z}},computed:{store(){return this.storeState.store},order(){return this.orderState.order}},methods:{navigateToEditOrder(){this.$router.push({name:"edit-order",params:{order_id:this.order.id},query:{store_id:this.store.id}})}}};function ve(r,t,o,a,i,e){const d=m("Button");return n(),g(d,{size:"sm",type:"bare",leftIconSize:"18",leftIcon:i.SquarePen,action:e.navigateToEditOrder},null,8,["leftIcon","action"])}const Le=y(Ce,[["render",ve]]),ke={inject:["storeState"],components:{Button:x},data(){return{Store:Y}},computed:{store(){return this.storeState.store}},methods:{async navigateToStorefront(){await this.$router.push({name:"show-storefront",params:{alias:this.store.alias}})}}};function Ie(r,t,o,a,i,e){const d=m("Button");return n(),g(d,{size:"sm",type:"bare",leftIcon:i.Store,leftIconSize:"18",action:e.navigateToStorefront},null,8,["leftIcon","action"])}const Pe=y(ke,[["render",Ie]]),De={inject:["formState","orderState","storeState","notificationState"],components:{Button:x},data(){return{Printer:J,isDownloadingOrder:!1}},computed:{order(){return this.orderState.order},store(){return this.storeState.store},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore}},methods:{async printOrder(){var r,t;try{if(this.isDownloadingOrder)return;const o={store_id:this.store.id,order_ids:[this.order.id]},a={responseType:"blob"};this.isDownloadingOrder=!0;const i=await D.post("/api/orders/download",o,a),e=new Blob([i.data],{type:"application/pdf"}),d=window.URL.createObjectURL(e),h=window.open(d);h&&(h.onload=()=>{h.focus(),h.print()})}catch(o){const a=((t=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:t.message)||(o==null?void 0:o.message)||"Something went wrong while printing order";this.notificationState.showWarningNotification(a),this.formState.setServerFormErrors(o),console.error("Failed to print order:",o)}finally{this.isDownloadingOrder=!1}}}};function Ee(r,t,o,a,i,e){const d=m("Button");return n(),g(d,{size:"sm",type:"bare",loaderType:"dark",leftIconSize:"18",leftIcon:i.Printer,action:e.printOrder,loading:i.isDownloadingOrder,skeleton:e.isLoadingStore||e.isLoadingOrder},null,8,["leftIcon","action","loading","skeleton"])}const Be=y(De,[["render",Ee]]),je={inject:["orderState","storeState"],components:{Pill:T,Popover:A},props:{order:{type:Object,default:null},popoverWrapperClasses:{type:String}},computed:{_order(){return this.order??this.orderState.order},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore},paymentStatusName(){return this._order.payment_status.toLowerCase()},description(){if(this.paymentStatusName==="paid")return"This order has been fully paid";if(this.paymentStatusName==="unpaid")return"This order has not been paid";if(this.paymentStatusName==="partially paid")return"This order is partially paid";if(this.paymentStatusName==="waiting confirmation")return"This order payment is being confirmed"},type(){if(this.paymentStatusName==="paid")return"success";if(this.paymentStatusName==="unpaid")return"light";if(this.paymentStatusName==="partially paid")return"primary";if(this.paymentStatusName==="waiting confirmation")return"success"}}},Ne={key:0,class:"flex items-center space-x-1"},Te={class:"whitespace-nowrap"};function Ae(r,t,o,a,i,e){const d=m("Pill"),h=m("Popover");return e._order?(n(),l("div",Ne,[c(d,{type:e.type,size:"xs"},{default:S(()=>[s("span",Te,u(e._order.payment_status),1)]),_:1},8,["type"]),c(h,{placement:"top",content:e.description,wrapperClasses:o.popoverWrapperClasses},null,8,["content","wrapperClasses"])])):p("",!0)}const Ue=y(je,[["render",Ae]]),Me={inject:["formState","orderState","storeState","notificationState"],components:{Button:x},data(){return{ArrowDownToLine:U,isDownloadingOrder:!1}},computed:{order(){return this.orderState.order},store(){return this.storeState.store},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore}},methods:{async downloadOrder(){var r,t;try{if(this.isDownloadingOrder)return;const o={store_id:this.store.id,order_ids:[this.order.id]},a={responseType:"blob"};this.isDownloadingOrder=!0;const i=await D.post("/api/orders/download",o,a),e=new Blob([i.data],{type:"application/pdf"}),d=document.createElement("a");d.href=window.URL.createObjectURL(e),d.download=`Order #${this.order.number}.pdf`,document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(o){const a=((t=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:t.message)||(o==null?void 0:o.message)||"Something went wrong while downloading order";this.notificationState.showWarningNotification(a),this.formState.setServerFormErrors(o),console.error("Failed to download order:",o)}finally{this.isDownloadingOrder=!1}}}};function Re(r,t,o,a,i,e){const d=m("Button");return n(),g(d,{size:"sm",type:"bare",leftIconSize:"18",loaderType:"dark",action:e.downloadOrder,skeleton:e.isLoadingOrder,leftIcon:i.ArrowDownToLine,loading:e.isLoadingStore||i.isDownloadingOrder},null,8,["action","skeleton","leftIcon","loading"])}const Ve=y(Me,[["render",Re]]),Fe={components:{EditButton:Le,HomeButton:Pe,PrintButton:Be,PaymentStatus:Ue,DownloadButton:Ve}},ze={class:"flex items-center justify-between"},qe={class:"flex items-center justify-end space-x-4"};function We(r,t,o,a,i,e){const d=m("PaymentStatus"),h=m("EditButton"),f=m("PrintButton"),w=m("DownloadButton"),_=m("HomeButton");return n(),l("div",ze,[c(d),s("div",qe,[c(h),c(f),c(w),c(_)])])}const Qe=y(Fe,[["render",We]]),Ge={inject:["orderState","storeState"],components:{Popover:A,Skeleton:I},data(){return{qrCode:null}},watch:{order(r,t){!t&&r&&this.setup()}},computed:{order(){return this.orderState.order},hasOrder(){return this.order!=null},store(){return this.storeState.store},logo(){return this.store.logo},isLoadingOrder(){return this.orderState.isLoadingOrder},isLoadingStore(){return this.storeState.isLoadingStore},currentPageUrl(){return window.location.origin+this.$router.resolve({name:"show-shop-order",params:{alias:this.store.alias,order_id:this.order.id}}).href}},methods:{formattedDatetime:E,formattedRelativeDate:R,setup(){this.store&&this.order&&this.generateQRCode()},async navigateToShowShopProduct(r){await this.$router.push({name:"show-shop-product",params:{alias:this.store.alias,product_id:r.product_id}})},async generateQRCode(){try{this.qrCode=await K.toDataURL(this.currentPageUrl,{margin:2,width:150,color:{dark:"#000000",light:"#ffffff"}})}catch(r){console.error("Failed to generate QR code:",r)}}},created(){this.setup()}},He={class:"flex items-center justify-between"},Ze={class:"w-full flex items-center space-x-4"},Ye={key:0,class:"flex items-center space-x-4"},Je=["src"],Ke=["src"],Xe={class:"w-full"},$e={key:1,class:"text-xl font-bold"},et=["href"],tt={key:0,class:"flex items-center shrink-0 space-x-4"},rt=["src"],ot={key:0,class:"flex items-center space-x-2 py-4 mb-4 border-b border-gray-200"},st={key:1,class:"text-sm"},nt={key:3,class:"text-sm"},it={class:"mb-6"},at={class:"grid grid-cols-2 gap-1 text-sm"},dt={class:"col-span-1 flex items-center space-x-1"},lt={key:1},ct={class:"col-span-1 flex items-center space-x-1"},mt={key:1,class:"flex space-x-1 items-center"},ht={key:0,class:"col-span-1 flex items-center space-x-1"},ut={key:1},pt={key:1,class:"col-span-1 flex items-center space-x-1"},gt=["href"],ft={class:"border border-gray-300 rounded overflow-hidden mb-6"},_t={class:"w-full text-xs text-left"},yt={key:0},wt={class:"border border-gray-300 p-2"},bt={class:"border border-gray-300 p-2"},St={class:"border border-gray-300 p-2"},Ot={class:"border border-gray-300 p-2"},xt=["onClick"],Ct={class:"border border-gray-300 p-2"},vt={class:"lg:flex lg:items-center lg:space-x-2 lg:space-y-0 space-y-2"},Lt={key:0,class:"flex items-center justify-center w-8 h-auto"},kt=["src"],It={class:"whitespace-nowrap border border-gray-300 p-2 text-xs text-center"},Pt={class:"whitespace-nowrap border border-gray-300 p-2 text-xs"},Dt={class:"whitespace-nowrap border border-gray-300 p-2 text-xs"},Et={class:"flex justify-end px-2 mb-6"},Bt={class:"w-full md:w-3/4 lg:w-1/2"},jt={class:"w-full text-sm"},Nt={class:"border-b border-gray-300 border-dashed"},Tt={key:0,class:"w-24 pl-4"},At={key:1,class:"text-right py-1"},Ut={key:0,class:"border-b border-gray-300 border-dashed"},Mt={key:0,class:"w-24 pl-4"},Rt={key:1,class:"text-right py-1"},Vt={key:1,class:"border-b border-gray-300 border-dashed"},Ft={class:"text-right py-1"},zt={key:0,class:"w-24 pl-4"},qt={key:1,class:"text-right py-1"},Wt={key:2,class:"border-b border-gray-300 border-dashed"},Qt={key:0,class:"w-24 pl-4"},Gt={key:1,class:"text-right py-1"},Ht={class:"text-base font-bold border-b border-gray-300 border-dashed"},Zt={key:0,class:"w-24 pl-4"},Yt={key:1,class:"text-right py-2"},Jt={class:"border-b border-gray-200 pb-4"},Kt={key:1,class:"text-sm"},Xt={key:3,class:"text-sm"},$t={key:5,class:"text-sm"};function er(r,t,o,a,i,e){var f,w,_;const d=m("Skeleton"),h=m("Popover");return n(),l("div",null,[s("div",He,[s("div",Ze,[!e.isLoadingStore&&!e.isLoadingOrder&&!e.logo?(n(),l("div",Ye,[e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,width:"w-16",height:"h-16",shine:!0})):i.qrCode?(n(),l("img",{key:1,src:i.qrCode,alt:"QR Code",class:"w-16 h-16 rounded"},null,8,Je)):p("",!0)])):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:1,width:"w-16",height:"h-16",shine:!0})):e.logo?(n(),l("img",{key:2,alt:"Store Logo",src:e.logo.path,class:"w-16 h-16 rounded"},null,8,Ke)):p("",!0),s("div",Xe,[e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,width:"w-20",shine:!0,class:"mb-4"})):(n(),l("p",$e,u(e.store.name??"Store"),1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:2,width:"w-1/3",shine:!0})):(n(),l("a",{key:3,href:e.store.web_link,class:"text-sm text-blue-500 hover:underline cursor-pointer"},u(e.store.web_link),9,et))])]),!e.isLoadingStore&&!e.isLoadingOrder&&e.logo?(n(),l("div",tt,[e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,width:"w-16",height:"h-16",shine:!0})):i.qrCode?(n(),l("img",{key:1,src:i.qrCode,alt:"QR Code",class:"w-16 h-16 rounded"},null,8,rt)):p("",!0)])):p("",!0)]),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.store.email||e.store.whatsapp_mobile_number?(n(),l("div",ot,[e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,shine:!0})):(f=e.store.whatsapp_mobile_number)!=null&&f.international?(n(),l("p",st," WhatsApp: "+u(e.store.whatsapp_mobile_number.international),1)):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:2,shine:!0})):e.store.email?(n(),l("p",nt,"Email: "+u(e.store.email),1)):p("",!0)])):p("",!0),s("div",it,[s("div",at,[s("div",dt,[t[0]||(t[0]=s("span",{class:"font-semibold whitespace-nowrap"},"Order No:",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,shine:!0})):(n(),l("span",lt,"#"+u(e.order.number),1))]),s("div",ct,[t[1]||(t[1]=s("span",{class:"font-semibold"},"Date: ",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,shine:!0})):(n(),l("div",mt,[s("span",null,u(e.formattedDatetime(e.order.created_at)),1),c(h,{placement:"top",class:"opacity-0 group-hover:opacity-100",content:e.formattedRelativeDate(e.order.created_at)},null,8,["content"])]))]),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.order.delivery_method_name?(n(),l("div",ht,[t[2]||(t[2]=s("span",{class:"font-semibold"},"Delivery Method: ",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,shine:!0})):(n(),l("span",ut,u(e.order.delivery_method_name),1))])):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.order.courier?(n(),l("div",pt,[t[3]||(t[3]=s("span",{class:"font-semibold whitespace-nowrap"},"Tracking No:",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,shine:!0})):(n(),l("a",{key:1,href:e.order.courier.tracking_page,target:"_blank",class:"text-sm text-blue-500 hover:underline cursor-pointer"},u(e.order.tracking_number),9,gt))])):p("",!0)])]),s("div",ft,[s("table",_t,[t[4]||(t[4]=s("thead",{class:"bg-gray-100"},[s("tr",null,[s("th",{class:"whitespace-nowrap border border-gray-300 p-2"},"Item"),s("th",{class:"whitespace-nowrap border border-gray-300 p-2 text-center"},"Qty"),s("th",{class:"whitespace-nowrap border border-gray-300 p-2"},"Unit Price"),s("th",{class:"whitespace-nowrap border border-gray-300 p-2"},"Total")])],-1)),s("tbody",null,[e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("tr",yt,[s("td",wt,[c(d,{shine:!0})]),s("td",bt,[c(d,{shine:!0})]),s("td",St,[c(d,{shine:!0})]),s("td",Ot,[c(d,{shine:!0})])])):(n(!0),l(v,{key:1},k(e.order.order_products,O=>(n(),l("tr",{key:O.id,class:"hover:bg-blue-50 cursor-pointer",onClick:L(()=>e.navigateToShowShopProduct(O),["stop"])},[s("td",Ct,[s("div",vt,[O.photo?(n(),l("div",Lt,[s("img",{class:"w-full max-h-full object-contain rounded-sm flex-shrink-0",src:O.photo.path},null,8,kt)])):p("",!0),s("span",null,u(O.name),1)])]),s("td",It,u(O.quantity),1),s("td",Pt,u(O.unit_price.amount_with_currency),1),s("td",Dt,u(O.grand_total.amount_with_currency),1)],8,xt))),128))])])]),s("div",Et,[s("div",Bt,[s("table",jt,[s("tr",Nt,[t[5]||(t[5]=s("td",{class:"text-right py-1"},"Subtotal:",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("td",Tt,[c(d,{width:"w-full",shine:!0})])):(n(),l("td",At,u(e.order.subtotal.amount_with_currency),1))]),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.order&&e.order.discount_total.amount>0?(n(),l("tr",Ut,[t[6]||(t[6]=s("td",{class:"text-right py-1"},"Discount:",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("td",Mt,[c(d,{width:"w-full",shine:!0})])):(n(),l("td",Rt,u(e.order.discount_total.amount_with_currency),1))])):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.order&&e.order.vat_amount>0?(n(),l("tr",Vt,[s("td",Ft,"Tax "+u(e.isLoadingOrder?"":`(${((w=e.order)==null?void 0:w.vat_rate)??"_"}%)`)+":",1),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("td",zt,[c(d,{width:"w-full",shine:!0})])):(n(),l("td",qt,u(e.order.vat_amount.amount_with_currency),1))])):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.order&&e.order.fee_total.amount>0?(n(),l("tr",Wt,[t[7]||(t[7]=s("td",{class:"text-right py-1"},"Additional Fees:",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("td",Qt,[c(d,{width:"w-full",shine:!0})])):(n(),l("td",Gt,u(e.order.fee_total.amount_with_currency),1))])):p("",!0),s("tr",Ht,[t[8]||(t[8]=s("td",{class:"text-right py-2"},"Grand Total:",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("td",Zt,[c(d,{width:"w-full",shine:!0})])):(n(),l("td",Yt,u(e.order.grand_total.amount_with_currency),1))])])])]),s("div",Jt,[t[9]||(t[9]=s("p",{class:"text-sm font-semibold mb-2"},"Customer",-1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:0,shine:!0,class:"mb-2"})):e.order.customer_name?(n(),l("p",Kt,u(e.order.customer_name),1)):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:2,shine:!0,class:"mb-2"})):(_=e.order.customer_mobile_number)!=null&&_.international?(n(),l("p",Xt,u(e.order.customer_mobile_number.international),1)):p("",!0),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),g(d,{key:4,shine:!0})):e.order.customer_email?(n(),l("p",$t,u(e.order.customer_email),1)):p("",!0)]),t[10]||(t[10]=s("p",{class:"text-sm text-center mt-4"},"Thank you!",-1))])}const tr=y(Ge,[["render",er]]),rr={components:{OrderHeader:Qe,OrderContent:tr}},or={class:"select-none bg-white space-y-4 pt-8 pb-4 px-4 shadow-sm border border-gray-100 rounded-xl mb-4"};function sr(r,t,o,a,i,e){const d=m("OrderHeader"),h=m("OrderContent");return n(),l("div",or,[c(d),c(h)])}const nr=y(rr,[["render",sr]]),ir={components:{UserRound:$,Pill:T,Loader:X,Button:x},props:{index:{type:Number},orderComment:{type:Object},onViewPhoto:{type:Function},deleteOrderComment:{type:Function},isDeletingOrderCommentIds:{type:Array}},data(){return{Trash2:M,expanded:!1}},computed:{user(){return this.orderComment.user},hasPhotos(){return this.photos.length>0},photos(){return this.orderComment.photos},isDeletingOrderComment(){return this.isDeletingOrderCommentIds.findIndex(r=>r==this.orderComment.id)!=-1}},methods:{formattedDatetime:E}},ar={class:"bg-gray-100 p-2 rounded-lg leading-0"},dr={key:0,class:"font-bold text-sm"},lr={class:"text-sm"},cr={key:1,class:"flex flex-wrap space-x-2 space-y-2 my-2"},mr=["src","onClick"],hr={class:"flex justify-between"},ur={class:"text-gray-400 text-xs"};function pr(r,t,o,a,i,e){const d=m("Loader"),h=m("Button");return n(),l("div",ar,[e.user?(n(),l("p",dr,u(e.user.name),1)):p("",!0),s("p",lr,u(o.orderComment.comment),1),e.hasPhotos?(n(),l("div",cr,[(n(!0),l(v,null,k(e.photos,f=>(n(),l("img",{key:f.id,src:f.path,onClick:()=>o.onViewPhoto(f),class:"max-h-20 object-contain rounded-lg flex-shrink-0 hover:scale-105 transition-all cursor-pointer"},null,8,mr))),128))])):p("",!0),s("div",hr,[s("p",ur,u(e.formattedDatetime(o.orderComment.created_at)),1),e.user?(n(),l(v,{key:0},[e.isDeletingOrderComment?(n(),g(d,{key:0,type:"danger"})):(n(),g(h,{key:1,size:"xs",leftIconSize:"14",leftIcon:i.Trash2,type:"bareDanger",action:()=>o.deleteOrderComment(o.orderComment)},null,8,["leftIcon","action"]))],64)):p("",!0)])])}const gr=y(ir,[["render",pr]]),fr={inject:["authState","formState","storeState","orderState","notificationState"],components:{Image:ee,Modal:j,Input:B,Button:x,Skeleton:I,OrderComment:gr},data(){return{Trash2:M,ArrowDownToLine:U,form:{photos:[],comment:""},pagination:null,orderComments:[],isUploading:!1,orderCommentPhoto:null,createdOrderComment:null,isCreatingOrderComment:!1,isLoadingOrderComments:!1,isDeletingOrderCommentIds:[],isDeletingOrderCommentPhotoIds:[],isDownloadingOrderCommentPhotoIds:[],isDownloadingOrderCommentPhoto:!1}},watch:{store(r,t){!t&&r&&this.showOrderComments()},isUploading(r){r==!1&&this.orderCommentCreationCompleted()}},computed:{store(){return this.storeState.store},orderId(){return this.$route.params.order_id},isLoadingStore(){return this.storeState.isLoadingStore},isLoadingOrder(){return this.orderState.isLoadingOrder},hasOrderComments(){return this.orderComments.length>0}},methods:{isEmpty:N,reset(){this.form.photos=[],this.form.comment=""},async showOrderComments(){var r,t;try{this.isLoadingOrderComments=!0;let o={params:{order_id:this.orderId,store_id:this.store.id,_relationships:["photos","user"].join(",")}};const a=await axios.get("/api/order-comments",o);this.pagination=a.data,this.orderComments=this.pagination.data}catch(o){const a=((t=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:t.message)||(o==null?void 0:o.message)||"Something went wrong while fetching order comments";this.notificationState.showWarningNotification(a),this.formState.setServerFormErrors(o),console.error("Failed to fetch order comments:",o)}finally{this.isLoadingOrderComments=!1}},onEnterCreateOrderComment(r){r.preventDefault(),this.createOrderComment()},async createOrderComment(){var r,t;try{if(this.isCreatingOrderComment||this.isUploading||(this.formState.hideFormErrors(),this.isEmpty(this.form.comment)&&this.formState.setFormError("comment","The comment is required"),this.formState.hasErrors))return;this.isCreatingOrderComment=!0;const o={order_id:this.orderId,store_id:this.store.id,comment:this.form.comment},a=await axios.post("/api/order-comments",o);this.createdOrderComment=a.data.order_comment,this.form.photos.length?this.uploadImages():this.orderCommentCreationCompleted()}catch(o){const a=((t=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:t.message)||(o==null?void 0:o.message)||"Something went wrong while creating order comment";this.notificationState.showWarningNotification(a),this.formState.setServerFormErrors(o),console.error("Failed to create order comment:",o),this.isCreatingOrderComment=!1}},orderCommentCreationCompleted(){this.orderComments.push({user:this.authState.user,...this.createdOrderComment,photos:this.form.photos.map(function(r){return{id:V(),temporary:!0,path:r.path}})}),this.notificationState.showSuccessNotification("Comment created!"),this.isCreatingOrderComment=!1,this.showOrderComments(),this.reset()},async uploadImages(r=null){let t=[];for(let o=0;o<this.form.photos.length;o++){const a=this.form.photos[o];(a.uploaded===null||a.uploaded===!1)&&a.uploading==!1&&(r==null||r==o)&&t.push(this.uploadSingleImage(a,o))}return this.isUploading=!0,Promise.allSettled(t).then(o=>{let a=o.filter(i=>i.status==="rejected").length;a>0&&this.notificationState.showWarningNotification(`⚠️ ${a} image(s) failed to upload. Try again or change the image.`),this.isUploading=!1})},async uploadSingleImage(r,t,o=0,a=null){var i,e,d;try{if(o>2)return console.log(`❌ Image ${t+1} permanently failed after 3 attempts.`),r.uploaded=!1,r.uploading=!1,r.error_message=((e=(i=a==null?void 0:a.response)==null?void 0:i.data)==null?void 0:e.message)||(a==null?void 0:a.message)||"Upload failed",Promise.reject("Failed after 3 attempts");let h=new FormData;h.append("file",r.file_ref),h.append("store_id",this.store.id),h.append("mediable_type","order comment"),h.append("mediable_id",this.createdOrderComment.id),h.append("upload_folder_name","order_comment_photo"),r.uploading=!0,r.error_message=null;const f={headers:{"Content-Type":"multipart/form-data"}},w=await axios.post("/api/media-files",h,f);return r.uploaded=!0,r.uploading=!1,console.log(`✅ Image ${t+1} uploaded successfully.`),w}catch(h){return console.error(`⚠️ Image ${t+1} upload attempt ${o+1} failed.`,h),h.code==="ECONNABORTED"||((d=h.response)==null?void 0:d.status)===504?void 0:this.uploadSingleImage(r,t,o+1,h)}},onViewPhoto(r){this.orderCommentPhoto=r,this.$refs.showPhotoModal.showModal()},async downloadOrderCommentPhoto(){try{if(this.isDownloadingOrderCommentPhotoIds.includes(this.orderCommentPhoto.id))return;this.isDownloadingOrderCommentPhotoIds.push(this.orderCommentPhoto.id);let r={responseType:"blob",params:{store_id:this.store.id}};const o=(await axios.get(`/api/media-files/${this.orderCommentPhoto.id}/download`,r)).data,a=URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download=this.orderCommentPhoto.name,i.click(),URL.revokeObjectURL(a)}catch(r){console.error("Error downloading the store QR code image:",r)}finally{this.isDownloadingOrderCommentPhotoIds.splice(this.isDownloadingOrderCommentPhotoIds.findIndex(r=>r==this.orderCommentPhoto.id),1)}},async deleteOrderCommentPhoto(){var r,t;try{if(this.isDeletingOrderCommentPhotoIds.includes(this.orderCommentPhoto.id))return;this.isDeletingOrderCommentPhotoIds.push(this.orderCommentPhoto.id);const o={data:{store_id:this.store.id}};await axios.delete(`/api/media-files/${this.orderCommentPhoto.id}`,o),this.orderComments=this.orderComments.map(a=>({...a,photos:a.photos.filter(i=>i.id!==this.orderCommentPhoto.id)})),this.notificationState.showSuccessNotification("Photo deleted"),this.$refs.showPhotoModal.hideModal()}catch(o){const a=((t=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:t.message)||(o==null?void 0:o.message)||"Something went wrong while deleting comment photo";this.notificationState.showWarningNotification(a),this.formState.setServerFormErrors(o),console.error("Failed to delete comment photo:",o)}finally{this.isDeletingOrderCommentPhotoIds.splice(this.isDeletingOrderCommentPhotoIds.findIndex(o=>o==this.orderCommentPhoto.id),1)}},async deleteOrderComment(r){var t,o;try{if(this.isDeletingOrderCommentIds.includes(r.id))return;this.isDeletingOrderCommentIds.push(r.id);const a={data:{store_id:this.store.id}};await axios.delete(`/api/order-comments/${r.id}`,a),this.notificationState.showSuccessNotification("Comment deleted"),this.orderComments=this.orderComments.filter(i=>i.id!=r.id)}catch(a){const i=((o=(t=a==null?void 0:a.response)==null?void 0:t.data)==null?void 0:o.message)||(a==null?void 0:a.message)||"Something went wrong while deleting order comment";this.notificationState.showWarningNotification(i),this.formState.setServerFormErrors(a),console.error("Failed to delete order comment:",a)}finally{this.isDeletingOrderCommentIds.splice(this.isDeletingOrderCommentIds.findIndex(a=>a==r.id),1)}}},created(){this.store&&this.showOrderComments()}},_r={class:"bg-white rounded-lg space-y-4 mb-4"},yr={class:"flex justify-between items-center space-x-4"},wr={key:0,class:"w-full flex space-x-2"},br=["onClick"],Sr={key:0,class:"space-y-2"},Or={class:"space-y-2 p-2 px-4 bg-gray-50"},xr={class:"flex justify-between items-center space-x-8"},Cr={class:"flex items-center space-x-2 whitespace-nowrap"},vr={class:"flex justify-end items-end space-x-2"},Lr={class:"flex items-center justify-center w-10 h-10 rounded-lg border border-dashed border-gray-200"},kr={class:"flex justify-center"},Ir=["src"],Pr={key:0,class:"flex justify-end space-x-2 mt-4"};function Dr(r,t,o,a,i,e){const d=m("Input"),h=m("Image"),f=m("Button"),w=m("Skeleton"),_=m("OrderComment"),O=m("Modal");return n(),l(v,null,[s("div",_r,[t[8]||(t[8]=s("h1",{class:"text-gray-700 font-semibold mb-4"},"Comments",-1)),s("div",yr,[!e.isLoadingStore&&!e.isLoadingOrder?(n(),l("div",wr,[s("div",{onClick:t[6]||(t[6]=L(b=>r.$refs.comment.focusInput(),["stop"])),class:"w-full border border-gray-300 p-2 rounded-lg"},[c(d,{type:"file",maxFiles:5,class:"w-full",wrapperClass:{},modelValue:i.form.photos,"onUpdate:modelValue":t[3]||(t[3]=b=>i.form.photos=b),onRetryUploads:t[4]||(t[4]=b=>e.uploadImages()),onRetryUpload:t[5]||(t[5]=(b,C)=>e.uploadImages(C))},{fileTrigger:S(b=>[s("div",{class:"w-full flex space-x-2",onClick:t[2]||(t[2]=L(C=>r.$refs.comment.focusInput(),["stop"]))},[c(d,{rows:"1",onClick:t[0]||(t[0]=L(()=>{},["stop"])),ref:"comment",class:"w-full",type:"textarea",wrapperClass:{},modelValue:i.form.comment,"onUpdate:modelValue":t[1]||(t[1]=C=>i.form.comment=C),placeholder:"Say something",onOnEnter:e.onEnterCreateOrderComment,errorText:e.formState.getFormError("comment")},null,8,["modelValue","onOnEnter","errorText"]),s("div",{onClick:L(b.handleClick,["stop"]),class:"z-10 w-10 h-10 flex flex-shrink-0 items-center justify-center bg-gray-50 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer"},[c(h,{size:"20",class:z([{"text-gray-400":!b.filesLeftToUpload}])},null,8,["class"])],8,br)])]),_:1},8,["modelValue"])]),c(f,{size:"sm",type:"primary",buttonClass:"flex-shrink-0",action:e.createOrderComment,disabled:i.isCreatingOrderComment||i.isUploading},{default:S(()=>t[7]||(t[7]=[s("span",null,"Post",-1)])),_:1,__:[7]},8,["action","disabled"])])):p("",!0)]),e.isLoadingStore||e.isLoadingOrder?(n(),l("div",Sr,[(n(),l(v,null,k([1,2],(b,C)=>s("div",{key:C,class:"rounded-lg overflow-hidden border border-gray-300"},[s("div",Or,[s("div",xr,[c(w,{width:"w-1/3",shine:!0}),s("div",Cr,[c(w,{width:"w-20",shine:!0}),c(w,{width:"w-10",shine:!0}),c(w,{width:"w-10",shine:!0})])]),s("div",vr,[c(w,{width:"w-10",shine:!0}),s("div",Lr,[c(h,{size:"16",class:"text-gray-400 flex-shrink-0"})])])])])),64))])):(n(),l(v,{key:1},[e.hasOrderComments?(n(!0),l(v,{key:0},k(i.orderComments,(b,C)=>(n(),g(_,{index:C,key:b.id,onViewPhoto:e.onViewPhoto,orderComment:b,deleteOrderComment:e.deleteOrderComment,isDeletingOrderCommentIds:i.isDeletingOrderCommentIds},null,8,["index","onViewPhoto","orderComment","deleteOrderComment","isDeletingOrderCommentIds"]))),128)):p("",!0)],64))]),c(O,{showFooter:!1,ref:"showPhotoModal",scrollOnContent:!1},F({_:2},[i.orderCommentPhoto?{name:"content",fn:S(()=>[t[11]||(t[11]=s("p",{class:"text-lg font-bold border-b border-dashed border-gray-200 pb-4 mb-4"},"Image Preview",-1)),s("div",kr,[s("img",{src:i.orderCommentPhoto.path},null,8,Ir)]),i.orderCommentPhoto.hasOwnProperty("temporary")?p("",!0):(n(),l("div",Pr,[c(f,{size:"sm",type:"primary",leftIcon:i.ArrowDownToLine,action:e.downloadOrderCommentPhoto,loading:this.isDownloadingOrderCommentPhotoIds.findIndex(b=>b==this.orderCommentPhoto.id)!=-1},{default:S(()=>t[9]||(t[9]=[s("span",null,"Download",-1)])),_:1,__:[9]},8,["leftIcon","action","loading"]),c(f,{size:"sm",type:"danger",leftIcon:i.Trash2,action:e.deleteOrderCommentPhoto,loading:this.isDeletingOrderCommentPhotoIds.findIndex(b=>b==this.orderCommentPhoto.id)!=-1},{default:S(()=>t[10]||(t[10]=[s("span",null,"Delete",-1)])),_:1,__:[10]},8,["leftIcon","action","loading"])]))]),key:"0"}:void 0]),1536)],64)}const Er=y(fr,[["render",Dr]]),Br={inject:["storeState","orderState"],components:{Button:x,Skeleton:I,GoogleMaps:te,ExternalLink:P},data(){return{ExternalLink:P}},computed:{order(){return this.orderState.order},hasOrder(){return this.order!=null},isLoadingStore(){return this.storeState.isLoadingStore},isLoadingOrder(){return this.orderState.isLoadingOrder},hasDeliveryAddress(){return this.deliveryAddress!=null},deliveryAddress(){return this.order.delivery_address},googleMapsUrl(){return`https://www.google.com/maps?q=${this.deliveryAddress.latitude},${this.deliveryAddress.longitude}`}},methods:{openGoogleMap(){window.open(this.googleMapsUrl,"_blank")}}},jr={key:0,class:"bg-white rounded-lg"},Nr={key:0,class:"w-full border-b shadow-sm rounded-lg py-6 px-4 bg-gray-50 space-y-1"},Tr={key:1},Ar={class:"text-sm mb-4"},Ur={class:"rounded-lg overflow-hidden"},Mr={class:"flex justify-end mt-4"};function Rr(r,t,o,a,i,e){const d=m("Skeleton"),h=m("GoogleMaps"),f=m("Button");return e.isLoadingStore||e.isLoadingOrder||!e.hasOrder||e.hasDeliveryAddress?(n(),l("div",jr,[t[1]||(t[1]=q('<div class="flex items-center space-x-2 mb-4"><svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"></path></svg><span class="text-gray-700 font-semibold">Delivery Address</span></div>',1)),e.isLoadingStore||e.isLoadingOrder||!e.hasOrder?(n(),l("div",Nr,[c(d,{width:"w-4/5",shine:!0}),c(d,{width:"w-1/3",shine:!0})])):(n(),l("div",Tr,[s("p",Ar,u(e.deliveryAddress.complete_address),1),e.deliveryAddress.latitude&&e.deliveryAddress.latitude?(n(),l(v,{key:0},[s("div",Ur,[c(h,{height:"350px",gmpDraggable:!1,latitude:e.deliveryAddress.latitude,longitude:e.deliveryAddress.longitude},null,8,["latitude","longitude"])]),s("div",Mr,[c(f,{size:"xs",type:"light",action:e.openGoogleMap,rightIcon:i.ExternalLink},{default:S(()=>t[0]||(t[0]=[s("span",null,"Google Maps",-1)])),_:1,__:[0]},8,["action","rightIcon"])])],64)):p("",!0)]))])):p("",!0)}const Vr=y(Br,[["render",Rr]]),Fr={components:{Advert:de,Actions:xe,OrderDetails:nr,OrderComments:Er,DeliveryAddress:Vr}},zr={class:"select-none max-w-xl mx-auto pt-16 pb-40"};function qr(r,t,o,a,i,e){const d=m("Advert"),h=m("OrderDetails"),f=m("Actions"),w=m("DeliveryAddress"),_=m("OrderComments");return n(),l("div",zr,[c(d),c(h),c(f),c(w),c(_)])}const Oo=y(Fr,[["render",qr]]);export{Oo as default};
