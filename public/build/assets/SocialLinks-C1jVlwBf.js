import{h,c as n,F as L,f as m,r as u,o as a,k as f,b as l,d as p,t as k}from"./app-CfcRgAtV.js";import{L as S}from"./Loader-DC71jh3F.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={components:{Loader:S},inject:["storeState","notificationState"],props:{message:{type:String,default:"Or sign in with"}},data(){return{socialLoginLinks:[],disableSocialLoginLinks:!1,isLoadingSocialLoginLinks:!1}},computed:{store(){return this.storeState.store}},methods:{getSocialLoginUrl(o){var i;if((i=this.store)!=null&&i.id){const s=o.includes("?")?"&":"?";return`${o}${s}store_id=${this.store.id}`}return o},handleSocialLoginClick(o,i){if(this.disableSocialLoginLinks)return!1;this.socialLoginLinks[o].isLoading=!0,this.disableSocialLoginLinks=!0,window.location.href=this.getSocialLoginUrl(i)},async showSocialLoginLinks(){var o,i;try{this.isLoadingSocialLoginLinks=!0;const s=await h.get("/api/auth/social-login-links");this.socialLoginLinks=s.data.map(t=>({...t,isLoading:!1}))}catch(s){const t=((i=(o=s==null?void 0:s.response)==null?void 0:o.data)==null?void 0:i.message)||(s==null?void 0:s.message)||"Failed to load social login links";this.notificationState.showWarningNotification(t),console.error("Failed to fetch social login links:",s)}finally{this.isLoadingSocialLoginLinks=!1}}},created(){this.showSocialLoginLinks()}},b={class:"space-y-1"},w=["onClick","href"],v=["alt","src"],x={class:"text-sm text-gray-600"};function C(o,i,s,t,r,c){const g=u("Loader");return a(),n("div",b,[(a(!0),n(L,null,m(r.socialLoginLinks,(e,d)=>(a(),n("a",{key:d,onClick:B=>c.handleSocialLoginClick(d,e.url),href:r.disableSocialLoginLinks?null:c.getSocialLoginUrl(e.url),class:f(["flex items-center space-x-4 p-3 border bg-white border-gray-100 shadow-sm font-medium rounded-md transition-all duration-300",r.disableSocialLoginLinks?"cursor-not-allowed":"cursor-pointer hover:bg-gray-50 hover:border-gray-200 hover:scale-105 hover:shadow-md active:scale-100"])},[l("div",null,[e.isLoading?(a(),p(g,{key:0,color:"border-gray-400",class:"mr-2"})):(a(),n("img",{key:1,class:"w-6 h-6 mr-1",alt:e.name,src:e.logo_url},null,8,v))]),l("div",null,[l("span",x,k(e.label),1)])],10,w))),128))])}const N=_(y,[["render",C]]);export{N as S};
