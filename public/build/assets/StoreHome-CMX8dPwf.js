import{c as n,b as t,a as c,t as u,g as w,d,e as _,k as p,w as x,i as b,F as v,f as k,j as L,z as m,r as f,o as s,I as D}from"./app-BqBcK2Me.js";import{B as q}from"./Button-BNac3Uy4.js";import{T as j}from"./Tooltip-BzW-KZ4w.js";import{S as z}from"./Skeleton-BEzu_4lT.js";import{D as A}from"./Datepicker-CBhW7FEH.js";import{J as F}from"./JoinOurWhatsappGroup-DNON6A3J.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as V}from"./hand-coins-UxSZLoIh.js";import{C as S}from"./credit-card-W4I9Wh-t.js";import{c as M}from"./createLucideIcon-OabOCuoO.js";import{I as N}from"./inbox-l7h6b9t9.js";import{B as C}from"./box-DB2svEAo.js";import{M as R}from"./megaphone-4vw7JLoz.js";import{P as W}from"./plus-DG46xS87.js";import{Z as U}from"./zap-CLsZFHua.js";import"./Loader-BgqDxGis.js";import"./ShineEffect-DJP6tw7V.js";import"./Popover-DiVqkWjb.js";import"./capitalize-ChUSrr1V.js";import"./WhatsappIcon-BZspFXks.js";import"./WhatsappMessage-CfiLyi2E.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=M("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=M("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),J={inject:["formState","authState","storeState","notificationState"],components:{Box:C,Inbox:N,UsersRound:I,CreditCard:S,HandCoins:V,Button:q,Tooltip:j,Skeleton:z,Datepicker:A,JoinOurWhatsappGroup:F},data(){return{Zap:U,Plus:W,Megaphone:R,CalendarDays:G,dateRange:[m().startOf("month").format("YYYY-MM-DD"),m().format("YYYY-MM-DD")],statusCounts:null,basicInsights:null,isLoadingOrderStatusCounts:!1,isLoadingStoreBasicInsights:!1,bookYourSeatLink:"https://cal.com/brandon-tabona-1zqda4/perfect-order-quickstart-live-onboarding-q-a-session",platforms:[{name:"whatsapp",link:"https://chat.whatsapp.com/FR9xLOjlcIs6KO0uHiLnTc"},{name:"instagram",link:"https://www.instagram.com/perfect_order_botswana"},{name:"facebook",link:"https://web.facebook.com/profile.php?id=61552503999976"}],mockMessages:[{sender:"Support Team",text:"Hello everyone! Our support team is here to help with your e-commerce platform questions. Feel free to ask! ðŸ˜Š",timestamp:m().subtract(6,"minute").format("HH:mm"),isOwnMessage:!1,nameColor:"#165dfc"},{sender:"You",text:"Hi, how do I add a discount code to my store?",timestamp:m().subtract(5,"minute").format("HH:mm"),isOwnMessage:!0},{sender:"Support Team",text:"Great question! In your dashboard, go to *Settings > Discounts*, click *Create Discount*, and set the code, amount, and conditions. Check [this guide](https://yourstore.com/docs/discounts) for details.",timestamp:m().subtract(4,"minute").format("HH:mm"),isOwnMessage:!1,nameColor:"#165dfc"},{sender:"Emma",text:"Iâ€™m struggling with setting up shipping options. Any tips?",timestamp:m().subtract(3,"minute").format("HH:mm"),isOwnMessage:!1,nameColor:"#dc16fc"},{sender:"Support Team",text:"Hi Emma! Navigate to *Settings > Shipping*, and add zones with rates. You can set flat rates or weight-based shipping. See [Shipping Setup](https://yourstore.com/docs/shipping) for a step-by-step. Let us know if you need more help!",timestamp:m().subtract(2,"minute").format("HH:mm"),isOwnMessage:!1,nameColor:"#165dfc"},{sender:"You",text:"Thanks! Can I also track my storeâ€™s analytics?",timestamp:m().subtract(1,"minute").format("HH:mm"),isOwnMessage:!0},{sender:"Support Team",text:"Absolutely! Go to *Analytics* in your dashboard, select a date range, and view total views, orders, and sales. Try it out and let us know if you have questions!",timestamp:m().format("HH:mm"),isOwnMessage:!1,nameColor:"#165dfc"}]}},watch:{store(){this.showOrderStatusCounts(),this.showStoreBasicInsights()}},computed:{authUser(){return this.authState.user},store(){return this.storeState.store},isLoadingStore(){return this.storeState.isLoadingStore},activeSubscription(){return this.store.active_subscription},pricingPlan(){return this.activeSubscription?this.activeSubscription.pricing_plan:null}},methods:{navigateToMarketing(){this.$router.push({name:"show-marketing",query:{store_id:this.store.id}})},navigateToPricingPlans(){this.$router.push({name:"show-pricing-plans",query:{store_id:this.store.id}})},navigateToCreateProduct(){this.$router.push({name:"create-product",query:{store_id:this.store.id}})},navigateToAddTeamMember(){this.$router.push({name:"add-team-member",query:{store_id:this.store.id}})},navigateToCreateOrder(){this.$router.push({name:"create-order",query:{store_id:this.store.id}})},navigateToPaymentMethods(){this.$router.push({name:"show-payment-methods",query:{store_id:this.store.id}})},navigateToShowOrdersWaiting(){this.$router.push({name:"show-orders",query:{store_id:this.store.id,filterExpressions:"status:in:waiting"}})},navigateToShowOrdersToConfirmPayments(){this.$router.push({name:"show-orders",query:{store_id:this.store.id,filterExpressions:"payment_status:in:waiting confirmation"}})},bookYourSeat(){this.store.web_link&&window.open(this.bookYourSeatLink,"_blank")},getIcon(l){return[C,I,S][l-1]},getCardText(l){return["Add store products your customers will love","Invite your team to help manage and grow your business","Allow customers to make payments when checking out"][l-1]},getButtonText(l){return["Add Products","Invite Team","Add Payments"][l-1]},getCardAction(l){return[this.navigateToCreateProduct,this.navigateToAddTeamMember,this.navigateToPaymentMethods][l-1]},async showOrderStatusCounts(){var l,o;try{this.isLoadingOrderStatusCounts=!0;let i={params:{store_id:this.store.id,end_date:m().format("YYYY-MM-DD"),start_date:m().subtract(30,"day").format("YYYY-MM-DD")}};const g=await axios.get("/api/orders/status-counts",i);this.statusCounts=g.data}catch(i){const g=((o=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:o.message)||(i==null?void 0:i.message)||"Something went wrong while fetching order status counts";this.notificationState.showWarningNotification(g),this.formState.setServerFormErrors(i),console.error("Failed to fetch order status counts:",i)}finally{this.isLoadingOrderStatusCounts=!1}},async showStoreBasicInsights(){var l,o;try{if(this.dateRange==null){this.basicInsights=null;return}this.isLoadingStoreBasicInsights=!0;let i={params:{end_date:this.dateRange[1],start_date:this.dateRange[0]}};const g=await axios.get(`/api/stores/${this.store.id}/basic-insights`,i);this.basicInsights=g.data}catch(i){const g=((o=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:o.message)||(i==null?void 0:i.message)||"Something went wrong while fetching store insights";this.notificationState.showWarningNotification(g),this.formState.setServerFormErrors(i),console.error("Failed to fetch store insights:",i)}finally{this.isLoadingStoreBasicInsights=!1}}},created(){this.store&&(this.showOrderStatusCounts(),this.showStoreBasicInsights())}},Z={class:"select-none pt-24 px-20 pb-40"},K={class:"flex items-center justify-between space-x-2 text-3xl font-semibold mb-6"},Q={key:0,class:"flex items-center space-x-4"},X={key:1,class:"flex items-center space-x-2"},$={class:"grid grid-cols-12 gap-4"},ee={class:"col-span-8 space-y-4"},te={class:"bg-white p-4 shadow-sm rounded-xl"},se={class:"mb-4"},oe={class:"grid grid-cols-3 divide-x divide-gray-100"},re={class:"flex flex-col items-center"},ie={key:0,class:"text-xl font-semibold"},ae={class:"flex flex-col items-center"},ne={key:0,class:"text-xl font-semibold"},de={class:"flex flex-col items-center"},le={key:0,class:"text-xl font-semibold"},ce={class:"bg-white p-4 shadow-sm rounded-xl"},he={class:"flex items-start justify-between"},ue={class:"space-y-2"},me={key:2,class:"text-sm"},ge={class:"font-bold"},pe={key:2,class:"text-sm"},fe={class:"font-bold"},ye={class:"grid grid-cols-3 gap-4"},we={key:0,class:"w-full flex flex-col items-center"},_e={key:1,class:"flex flex-col items-center"},xe={key:2,class:"text-xs text-center text-gray-600 mb-4"},be={key:3,class:"w-full flex flex-col items-center space-y-1 mb-4"},ve={class:"col-span-4 space-y-4"},ke={class:"bg-white p-4 shadow-sm rounded-xl"},Se={class:"flex items-center justify-between space-x-2"},Ce={class:"flex items-center space-x-2"},Ie={key:0,class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},Me={key:2,class:"flex items-center space-x-1"},Te={class:"font-semibold"},Oe={class:"bg-white p-4 shadow-sm rounded-xl"},Be={class:"flex justify-center space-x-4"},Pe=["href"],Ye=["src"],He={class:"bg-white p-4 shadow-sm rounded-xl"},Le={class:"flex justify-center"};function De(l,o,i,g,r,e){const a=f("Skeleton"),y=f("Button"),T=f("Datepicker"),O=f("Inbox"),B=f("HandCoins"),P=f("JoinOurWhatsappGroup"),Y=f("Tooltip");return s(),n("div",Z,[t("h1",K,[e.store?(s(),n("div",Q,[o[3]||(o[3]=t("span",null,"ðŸ‘‹",-1)),t("span",null,"Welcome back, "+u(e.authUser?e.authUser.first_name:""),1)])):(s(),n("div",X,[c(a,{width:"w-6",height:"h-6",color:"bg-white/50",rounded:"rounded-md",shine:!0}),c(a,{width:"w-40",height:"h-2",color:"bg-white/50",rounded:"rounded-md",shine:!0})])),c(y,{size:"xs",type:"light",leftIcon:r.Megaphone,action:e.navigateToMarketing},{default:w(()=>[...o[4]||(o[4]=[t("span",{class:"ml-1"},"Marketing",-1)])]),_:1},8,["leftIcon","action"])]),t("div",$,[t("div",ee,[t("div",te,[t("div",se,[e.store?(s(),d(T,{key:0,range:!0,modelValue:r.dateRange,"onUpdate:modelValue":o[0]||(o[0]=h=>r.dateRange=h),format:"dd MMM yyyy",modelType:"yyyy-MM-dd",enableTimePicker:!1,onChange:e.showStoreBasicInsights,errorText:e.formState.getFormError("start_date")},null,8,["modelValue","onChange","errorText"])):(s(),d(a,{key:1,width:"w-full",height:"h-6",rounded:"rounded-lg",shine:!0}))]),t("div",oe,[t("div",re,[t("h2",{class:p(["text-sm",{"text-gray-300":!e.store}])},"Views",2),e.store&&r.basicInsights?(s(),n("h3",ie,u(r.basicInsights.total_views),1)):r.isLoadingStoreBasicInsights?(s(),d(a,{key:1,width:"w-20",height:"h-2",rounded:"rounded-full",class:"mt-2",shine:!0})):_("",!0)]),t("div",ae,[t("h2",{class:p(["text-sm",{"text-gray-300":!e.store}])},"Orders",2),e.store&&r.basicInsights?(s(),n("h3",ne,u(r.basicInsights.total_orders),1)):r.isLoadingStoreBasicInsights?(s(),d(a,{key:1,width:"w-20",height:"h-2",rounded:"rounded-full",class:"mt-2",shine:!0})):_("",!0)]),t("div",de,[t("h2",{class:p(["text-sm",{"text-gray-300":!e.store}])},"Sales",2),e.store&&r.basicInsights?(s(),n("h3",le,u(r.basicInsights.total_sales.amount_with_currency),1)):r.isLoadingStoreBasicInsights?(s(),d(a,{key:1,width:"w-20",height:"h-2",rounded:"rounded-full",class:"mt-2",shine:!0})):_("",!0)])])]),t("div",ce,[t("div",he,[t("div",null,[t("h2",{class:p(["text-lg font-semibold",{"text-gray-300":!e.store}])},"Orders",2),t("h3",{class:p(["text-sm mb-4",{"text-gray-300":!e.store}])},"Last 30 days",2)]),c(y,{size:"xs",type:"light",leftIcon:r.Plus,skeleton:!e.store,action:e.navigateToCreateOrder},{default:w(()=>[...o[5]||(o[5]=[t("span",null,"Add Order",-1)])]),_:1},8,["leftIcon","skeleton","action"])]),t("div",ue,[t("div",{onClick:o[1]||(o[1]=x(h=>e.store&&r.statusCounts?e.navigateToShowOrdersWaiting():null,["stop"])),class:p(["flex items-center space-x-2 bg-white p-4 rounded-2xl transition-all duration-300 border border-gray-200 hover:border-gray-300 hover:bg-gray-50 hover:shadow-sm",e.store?"cursor-pointer":"cursor-not-allowed"])},[e.store&&r.statusCounts?(s(),d(O,{key:0,class:"text-gray-500"})):(s(),d(a,{key:1,width:"w-6",height:"h-6",rounded:"rounded-full",shine:!0})),e.store&&r.statusCounts?(s(),n("p",me,[t("span",ge,u(r.statusCounts.status_counts.waiting),1),b(" "+u(r.statusCounts.status_counts.waiting==1?"order":"orders")+" waiting",1)])):(s(),d(a,{key:3,width:"w-40",height:"h-2",rounded:"rounded-full",shine:!0}))],2),t("div",{onClick:o[2]||(o[2]=x(h=>e.store&&r.statusCounts?e.navigateToShowOrdersToConfirmPayments():null,["stop"])),class:p(["flex items-center space-x-2 bg-white p-4 rounded-2xl transition-all duration-300 border border-gray-200 hover:border-gray-300 hover:bg-gray-50 hover:shadow-sm",e.store?"cursor-pointer":"cursor-not-allowed"])},[e.store&&r.statusCounts?(s(),d(B,{key:0,class:"text-gray-500"})):(s(),d(a,{key:1,width:"w-6",height:"h-6",rounded:"rounded-full",shine:!0})),e.store&&r.statusCounts?(s(),n("p",pe,[t("span",fe,u(r.statusCounts.payment_status_counts.waiting_confirmation),1),b(" "+u(r.statusCounts.status_counts.waiting==1?"order":"orders")+" to confirm payments",1)])):(s(),d(a,{key:3,width:"w-40",height:"h-2",rounded:"rounded-full",shine:!0}))],2)])]),t("div",ye,[(s(),n(v,null,k(3,h=>t("div",{key:h,class:"bg-white p-3 shadow-sm rounded-xl flex flex-col items-center"},[e.isLoadingStore?(s(),n("div",we,[c(a,{width:"w-7",height:"h-7",rounded:"rounded-lg",shine:!0,class:"mb-2"}),c(a,{width:"w-4/5",height:"h-4",rounded:"rounded-md",shine:!0,class:"mb-4"}),c(a,{width:"w-full",height:"h-6",rounded:"rounded-md",shine:!0})])):(s(),n("div",_e,[e.store?(s(),d(D(e.getIcon(h)),{key:0,size:"28",class:"text-gray-500 mb-2"})):(s(),d(a,{key:1,width:"w-7",height:"h-7",rounded:"rounded-full",shine:!0,class:"mb-2"})),e.store?(s(),n("p",xe,u(e.getCardText(h)),1)):(s(),n("div",be,[c(a,{width:"w-4/5",height:"h-2",rounded:"rounded-md",shine:!0}),c(a,{width:"w-3/5",height:"h-2",rounded:"rounded-md",shine:!0})])),c(y,{size:"xs",type:"light",class:"w-full",leftIcon:r.Plus,skeleton:!e.store,buttonClass:"w-full",action:e.getCardAction(h)},{default:w(()=>[t("span",null,u(e.getButtonText(h)),1)]),_:2},1032,["leftIcon","skeleton","action"])]))])),64))]),c(P,{mockMessages:r.mockMessages},null,8,["mockMessages"])]),t("div",ve,[t("div",ke,[t("div",Se,[t("div",Ce,[e.store&&e.activeSubscription?(s(),n("div",Ie)):e.store?_("",!0):(s(),d(a,{key:1,width:"w-2",height:"h-2",rounded:"rounded-full",shine:!0})),e.store?(s(),n("div",Me,[t("h2",Te,u(e.activeSubscription?e.pricingPlan.name:"Basic Plan"),1),c(Y,{trigger:"hover",content:e.activeSubscription?e.pricingPlan.description:"You are on the Basic Plan with limited features"},null,8,["content"])])):(s(),d(a,{key:3,width:"w-24",height:"h-2",rounded:"rounded-md",shine:!0}))]),e.store&&e.activeSubscription?(s(),d(y,{key:0,size:"xs",type:"light",leftIcon:r.Zap,action:e.navigateToPricingPlans},{default:w(()=>[...o[6]||(o[6]=[t("span",null,"Change plan",-1)])]),_:1},8,["leftIcon","action"])):e.store&&!e.activeSubscription?(s(),d(y,{key:1,size:"xs",type:"primary",leftIcon:r.Zap,action:e.navigateToPricingPlans},{default:w(()=>[...o[7]||(o[7]=[t("span",null,"Upgrade",-1)])]),_:1},8,["leftIcon","action"])):_("",!0)])]),t("div",Oe,[o[8]||(o[8]=t("div",null,[t("h2",{class:"font-semibold mb-2"},"Get Updates & Promotions"),t("h3",{class:"text-sm text-gray-500 mb-4"},"Follow us on social media to stay updated with the latest features and tips")],-1)),t("div",Be,[(s(!0),n(v,null,k(r.platforms,(h,H)=>(s(),n("a",{key:H,target:"_blank",href:`${h.link}`,class:"p-2 rounded-lg hover:bg-gray-100 hover:scale-105 transition-all duration-300"},[t("img",{class:"w-8",src:`/images/social-media-icons/${h.name}.png`},null,8,Ye)],8,Pe))),128))])]),t("div",He,[o[10]||(o[10]=L('<div><h2 class="font-semibold mb-2">Join Live Onboarding Session</h2><h3 class="text-sm text-gray-500 mb-4">Explore key features and get your questions answered on our upcoming live session</h3></div><div class="flex items-center justify-center relative mb-4"><div class="w-20 h-20 relative"><img class="rounded-full border-2 border-transparent absolute top-0 -right-2" src="/images/team/julian.jpeg"></div><div class="w-20 h-20 relative"><img class="rounded-full border-2 border-white absolute top-0 -left-2" src="/images/team/bonolo.jpeg"></div></div>',2)),t("div",Le,[c(y,{size:"xs",type:"light",action:e.bookYourSeat,leftIcon:r.CalendarDays},{default:w(()=>[...o[9]||(o[9]=[t("span",null,"Book Your Seat",-1)])]),_:1},8,["action","leftIcon"])])])])])])}const ot=E(J,[["render",De]]);export{ot as default};
