import{L as v}from"./Loader-7AMjb3nm.js";import{B as b}from"./Button-B6uWpkNJ.js";import{S as k}from"./StoreLogo-ZNNGNHeM.js";import{c as r,b as t,a as u,w as _,r as m,t as f,n as C,g as x,o,F as i,i as d,f as L,d as B}from"./app-C9fKn4Wu.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as T}from"./external-link-A0rowScI.js";import{L as j}from"./Logo-Jvt7Q30m.js";import"./ShineEffect-CamUJCMA.js";import"./createLucideIcon-aSWH95Ml.js";import"./plus-B34lslhj.js";const $={components:{Button:b,StoreLogo:k},props:{store:{type:Object}},data(){return{ExternalLink:T}},methods:{visitStore(){window.open(this.store.web_link,"_blank")},navigateToStoreHome(){this.$router.push({name:"show-store-home",params:{store_id:this.store.id}})}}},z={class:"flex items-end space-x-2 mb-6"},E={class:"w-full"},F={class:"text-gray-700 font-bold w-4/5 truncate"},H={class:"flex items-center space-x-1"},A={class:"text-xs"},N={class:"w-full flex space-x-2 justify-end"};function V(c,s,e,l,a,n){const h=m("StoreLogo"),g=m("Button");return o(),r("div",{onClick:s[1]||(s[1]=_((...p)=>n.navigateToStoreHome&&n.navigateToStoreHome(...p),["stop"])),class:"bg-white space-y-4 py-4 px-4 shadow-sm rounded-xl border border-gray-200 shadow-blue-200 hover:shadow-md hover:border-blue-200 hover:scale-105 transition-all duration-300 cursor-pointer"},[t("div",z,[u(h,{onClick:s[0]||(s[0]=_(()=>{},["stop"])),size:"w-10 h-10",store:e.store,showButton:!1},null,8,["store"]),t("div",E,[t("h1",F,[t("span",null,f(e.store.name),1)]),t("div",H,[t("div",{class:C(["w-2 h-2 rounded-full animate-pulse",e.store.online?"bg-green-500":"bg-orange-500"])},null,2),t("span",A,f(e.store.online?"Online":"Offline"),1)])])]),t("div",N,[u(g,{size:"xs",type:"light",rightIconSize:"14",action:n.visitStore,rightIcon:a.ExternalLink},{default:x(()=>s[2]||(s[2]=[t("span",null,"Visit",-1)])),_:1,__:[2]},8,["action","rightIcon"]),u(g,{size:"xs",type:"primary",action:n.navigateToStoreHome},{default:x(()=>s[3]||(s[3]=[t("span",null,"Manage",-1)])),_:1,__:[3]},8,["action"])])])}const I=S($,[["render",V]]),M={components:{Logo:j},props:{hasStores:{type:Boolean}},methods:{navigateToCreateStore(){this.$router.push({name:"create-store"})}}},O={class:"text-xs"};function Y(c,s,e,l,a,n){return o(),r("div",{onClick:s[0]||(s[0]=(...h)=>n.navigateToCreateStore&&n.navigateToCreateStore(...h)),class:"flex flex-col justify-center items-center bg-white space-y-2 py-4 px-4 shadow-sm rounded-xl border border-gray-200 shadow-blue-200 hover:shadow-md hover:border-blue-200 hover:scale-105 transition-all duration-300 cursor-pointer"},[s[1]||(s[1]=t("div",{class:"flex justify-center items-center w-10 h-10 bg-gray-100 rounded-full border border-dashed border-gray-300 mb-2"},[t("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1)),t("span",O,f(e.hasStores?"Add Store":"Create Your First Store"),1)])}const W=S(M,[["render",Y]]),D={inject:["authState","formState","notificationState"],components:{StoreCard:I,Loader:v,AddStoreCard:W},data(){return{stores:[],pagination:null,isLoadingStores:!1}},computed:{authUser(){return this.authState.user},hasStores(){return this.stores.length>0}},methods:{async showStores(){var c,s;try{this.isLoadingStores=!0;let e={params:{association:"team member",_relationships:["logo","activeSubscription"].join(",")}};const l=await axios.get("/api/stores",e);this.pagination=l.data,this.stores=this.pagination.data,this.stores.length==0&&this.navigateToCreateStore()}catch(e){const l=((s=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:s.message)||(e==null?void 0:e.message)||"Something went wrong while fetching stores";this.notificationState.showWarningNotification(l),this.formState.setServerFormErrors(e),console.error("Failed to fetch stores:",e)}finally{this.isLoadingStores=!1}},navigateToCreateStore(){this.$router.push({name:"create-store"})}},created(){this.showStores()}},G={class:"pt-24 px-20 min-h-screen"},U={class:"flex flex-col items-center my-16"},q={class:"space-x-2 text-xl text-gray-700 font-semibold mb-2"},J={class:"text-sm text-gray-500"},K={key:0,class:"flex justify-center"},P={key:1,class:"flex justify-center"},Q={class:"w-full max-w-5xl flex flex-wrap justify-center gap-4"};function R(c,s,e,l,a,n){const h=m("Loader"),g=m("StoreCard"),p=m("AddStoreCard");return o(),r("div",G,[t("div",U,[t("h1",q,[a.isLoadingStores?(o(),r(i,{key:0},[d("Searching Your Stores")],64)):n.hasStores?(o(),r(i,{key:1},[d("Letâ€™s Get Selling!")],64)):(o(),r(i,{key:2},[d("Start Selling Today!")],64))]),t("p",J,[a.isLoadingStores?(o(),r(i,{key:0},[d("Hang tight! We're getting everything ready for you.")],64)):n.hasStores?(o(),r(i,{key:1},[d("Select a store to start managing your business.")],64)):(o(),r(i,{key:2},[d("You havenâ€™t created a store yetâ€”letâ€™s get your first one up and running! ðŸš€")],64))])]),a.isLoadingStores?(o(),r("div",K,[u(h)])):(o(),r("div",P,[t("div",Q,[(o(!0),r(i,null,L(a.stores,(y,w)=>(o(),B(g,{class:"w-80",key:w,store:y},null,8,["store"]))),128)),u(p,{hasStores:n.hasStores,class:"w-80"},null,8,["hasStores"])])]))])}const le=S(D,[["render",R]]);export{le as default};
