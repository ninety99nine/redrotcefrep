import{T as C,I as L,b as I}from"./Input-CS_IpxN-.js";import{P as O}from"./Popover-CYo5yYtG.js";import{S as Q}from"./Skeleton-ConmgPQ-.js";import{S as T,c as n,b as a,e as l,u as o,n as c,F as p,U as N,d as g,i as B,t as d,g as v,p as A,a as k,r as h,f as b,X as D,o as s,w as V}from"./app-Cn46GS3I.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={directives:{capitalize:I},components:{Input:L,Popover:O,Tooltip:C,Skeleton:Q},props:{label:{type:[String,null],default:null},secondaryLabel:{type:[String,null],default:null},popoverContent:{type:[String,null],default:null},tooltipContent:{type:[String,null],default:null},showAsterisk:{type:Boolean,default:!1},description:{type:[String,null],default:null},externalLinkName:{type:[String,null],default:null},externalLinkUrl:{type:[String,null],default:null},placeholder:{type:[String,null],default:null},disabled:{type:Boolean,default:!1},skeleton:{type:Boolean,default:!1},alignItems:{type:[String,null],default:"items-center"},errorText:{type:[String,null],default:null},options:{type:Array,default:()=>[]},search:{type:[Function,null],default:null},isLoading:{type:Boolean,default:!0},noResultsText:{type:[String,null],default:"No results found"},emits:["selected"]},data(){return{isOpen:!1,searchQuery:null,isSearching:!1,uniqueId:T("input")}},watch:{isLoading(t){this.isSearching=t&&this.hasSearchQuery},searchQuery(t){this.search(t)}},computed:{hasSearchQuery(){return this.searchQuery!=null&&this.searchQuery.trim()!=""}},methods:{openDropdown(){this.isOpen=!0},closeDropdown(){this.isOpen=!1},toggleDropdown(){this.isOpen=!this.isOpen,this.focusOnInput()},focusOnInput(){this.$nextTick(()=>{this.$refs.search&&document.activeElement!==this.$refs.search&&this.$refs.search.$refs.input.focus()})},onInputSearchQuery(){this.isSearching=!0,this.openDropdown()},selectOption(t){this.disabled||t.disabled||(this.isOpen=!1,this.searchQuery=null,this.$emit("selected",t))},handleClickOutside(t){this.$refs.dropdown&&!this.$refs.dropdown.contains(t.target)&&(this.isOpen=!1,this.searchQuery=null)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},z={class:"space-y-2"},E={key:0},F=["for"],q={key:0,class:"font-normal text-gray-400 ml-1"},M={key:3,class:"text-red-500"},j={key:2,class:"leading-4"},R={key:0,class:"text-xs text-gray-400 mr-1"},H=["href"],X={key:2,class:"w-full relative",ref:"dropdown"},G={key:0,class:"w-full absolute z-10 mt-1 select-none bg-white border border-gray-300 rounded-md shadow-lg overflow-hidden"},J={key:0,class:"max-h-60 divide-y divide-gray-100 overflow-auto"},K=["onClick"],W={class:"truncate"},Y={key:1,class:"text-center px-4 py-2 text-gray-500 text-sm"},Z={key:0,class:"scroll-to-error font-medium text-red-500 text-xs mt-1 ml-1"};function $(t,u,e,ee,i,f){const w=h("Popover"),x=h("Tooltip"),y=h("Skeleton"),S=h("Input"),_=D("capitalize");return s(),n("div",null,[a("div",z,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk||t.$slots.description||e.description||e.externalLinkName?(s(),n("div",E,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk?(s(),n("label",{key:0,for:i.uniqueId,class:c({"flex items-center text-sm leading-6 font-medium text-gray-900 space-x-1":!t.$slots.label})},[t.$slots.label?o(t.$slots,"label",{key:0}):(s(),n(p,{key:1},[N((s(),n("span",null,[B(d(e.label),1)])),[[_]]),e.secondaryLabel?(s(),n("span",q,d(e.secondaryLabel),1)):l("",!0),e.popoverContent||t.$slots.popoverContent?(s(),g(w,{key:1,trigger:"hover",content:e.popoverContent},{default:v(()=>[o(t.$slots,"popoverContent")]),_:3},8,["content"])):l("",!0),e.tooltipContent||t.$slots.tooltip?(s(),g(x,{key:2,trigger:"hover",content:e.tooltipContent},{default:v(()=>[o(t.$slots,"tooltipContent")]),_:3},8,["content"])):l("",!0),e.showAsterisk?(s(),n("span",M,"*")):l("",!0)],64))],10,F)):l("",!0),t.$slots.description?o(t.$slots,"description",{key:1}):e.description||e.externalLinkName?(s(),n("div",j,[e.description?(s(),n("span",R,d(e.description),1)):l("",!0),e.externalLinkName?(s(),n("a",A({key:1,target:"_blank",href:e.externalLinkUrl},t.type==="file"?t.fileEventListeners:{},{class:"inline-block text-xs text-blue-700 hover:underline hover:text-blue-90"}),[a("span",null,d(e.externalLinkName),1),u[1]||(u[1]=a("svg",{class:"w-3 h-3 inline-block ml-0.5 -mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1))],16,H)):l("",!0)])):l("",!0)])):l("",!0),a("div",{class:c(["w-full flex",e.alignItems,{"opacity-50":e.disabled}])},[t.$slots.prefix?o(t.$slots,"prefix",{key:0}):l("",!0),e.skeleton?(s(),g(y,{key:1,height:"h-8",shine:!0,rounded:"rounded-lg"})):(s(),n("div",X,[k(S,{ref:"search",type:"search",class:"w-full",debounced:!0,disabled:e.disabled,modelValue:i.searchQuery,"onUpdate:modelValue":u[0]||(u[0]=r=>i.searchQuery=r),onFocus:f.toggleDropdown,placeholder:e.placeholder,onInput:f.onInputSearchQuery},null,8,["disabled","modelValue","onFocus","placeholder","onInput"]),i.isOpen?(s(),n("div",G,[i.isSearching||e.options.length>0?(s(),n("ul",J,[i.isSearching?(s(),n(p,{key:0},b([1,2,3],(r,m)=>o(t.$slots,"loadingPlaceholder",{key:m},()=>[a("li",{class:c(["px-4 py-2 flex items-center space-x-2",e.disabled?"cursor-not-allowed":"cursor-pointer"])},[k(y,{width:"w-6",height:"h-6",rounded:"rounded-lg",shine:!0}),k(y,{width:"w-1/2",height:"h-2",shine:!0})],2)])),64)):(s(!0),n(p,{key:1},b(e.options,(r,m)=>(s(),n("li",{key:m,onClick:V(()=>f.selectOption(r),["stop"]),class:c(["px-4 py-2 text-sm flex justify-between items-center hover:bg-gray-100",r.disabled?"cursor-not-allowed text-gray-400":"cursor-pointer text-gray-700"])},[o(t.$slots,"option",{option:r},()=>[a("span",W,d(r.label),1)])],10,K))),128))])):l("",!0),!i.isSearching&&e.options.length===0?(s(),n("div",Y,d(e.noResultsText),1)):l("",!0)])):l("",!0)],512)),t.$slots.suffix?o(t.$slots,"suffix",{key:3}):l("",!0)],2)]),e.errorText?(s(),n("span",Z,d(e.errorText),1)):l("",!0)])}const ie=P(U,[["render",$]]);export{ie as S};
