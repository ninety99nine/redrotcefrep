import{S as d}from"./Skeleton-BbkRw7Um.js";import{c as s,b as e,a as u,k as g,n as h,g as p,T as m,t as i,r as f,o as t,d as _}from"./app-lQaTPIyZ.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ShineEffect-C4eRWABu.js";const y={inject:["authState"],components:{Skeleton:d},data(){return{countdown:5,errorMessage:null,isLoadingLogo:!0,countdownInterval:null,error:this.$route.query.error,token:this.$route.query.token,logoUrl:this.$route.query.logo_url,provider:this.$route.query.provider,errorDescription:this.$route.query.error_description}},computed:{borderColor(){return this.errorMessage?"#e02523":{google:"#df4b39",linkedin:"#117bb8",facebook:"#3f5c9b"}[this.provider]}},methods:{onLogoLoaded(){this.isLoadingLogo=!1},startRedirectCountdown(){this.countdownInterval=setInterval(()=>{this.countdown>0?this.countdown-=1:(clearInterval(this.countdownInterval),this.$router.replace({name:"login"}))},1e3)},completeSocialLogin(){this.authState.setTokenOnRequest(this.token),this.authState.setTokenOnLocalStorage(this.token),this.$router.push({name:"show-stores"})}},created(){this.errorDescription||this.error?(this.errorMessage=this.errorDescription||this.error,this.startRedirectCountdown()):this.completeSocialLogin()}},v={class:"w-full grid grid-cols-2 bg-gradient-to-b from-blue-100 to-white-100 min-h-screen overflow-x-hidden"},w={class:"col-span-1 flex flex-col justify-center items-center px-6 py-12 lg:px-8"},k={class:"relative inline-flex items-center justify-center w-28 h-28"},L=["src"],x=["src"],S={key:0,class:"mt-8"},C={class:"font-medium text-red-500 text-sm mb-4"},M={class:"text-gray-400 text-sm text-center"},j={key:1,class:"text-gray-400 text-center mt-8"};function q(l,r,I,R,o,n){const a=f("Skeleton");return t(),s("div",v,[e("div",w,[e("div",k,[e("div",{class:h(["absolute inset-0 animate-spin rounded-full border-4 border-gray-300"]),style:g("border-top-color:"+n.borderColor+";")},null,4),u(m,{name:"fade-1",mode:"out-in"},{default:p(()=>[o.isLoadingLogo?(t(),_(a,{key:0,width:"w-20",height:"h-20",color:"bg-gray-200",class:"border border-gray-300"})):(t(),s("img",{key:1,src:o.logoUrl,alt:"Social Logo",class:"w-20 h-20 relative"},null,8,L))]),_:1})]),e("img",{src:o.logoUrl,onLoad:r[0]||(r[0]=(...c)=>n.onLogoLoaded&&n.onLogoLoaded(...c)),class:"hidden"},null,40,x),o.errorMessage?(t(),s("div",S,[e("p",C,i(o.errorMessage),1),e("p",M,i(o.countdown==0?"Redirecting...":`${"Redirecting in "+o.countdown}`),1)])):(t(),s("p",j,"Logging In"))]),r[1]||(r[1]=e("div",{class:"col-span-1 relative"},[e("img",{src:"/images/lady-holding-boxes.jpg",class:"absolute w-full h-full object-cover object-left transition-opacity duration-1000"})],-1))])}const z=b(y,[["render",q]]);export{z as default};
