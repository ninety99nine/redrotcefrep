import{T as _,I as O,d as S}from"./Input-BpvCbPzt.js";import{P as L}from"./Popover-DkgXtOm4.js";import{S as V}from"./Skeleton-D3J4oatQ.js";import{R as B,c as s,b as i,e as o,s as d,n as h,F as y,S as I,d as m,i as M,t as u,g as k,p as N,w as p,a as T,r as f,f as A,W as j,o as l}from"./app-C9fKn4Wu.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={directives:{capitalize:S},components:{Input:O,Popover:L,Tooltip:_,Skeleton:V},props:{modelValue:{type:[String,Number,Boolean,null]},label:{type:[String,null],default:null},secondaryLabel:{type:[String,null],default:null},popoverContent:{type:[String,null],default:null},tooltipContent:{type:[String,null],default:null},showAsterisk:{type:Boolean,default:!1},description:{type:[String,null],default:null},externalLinkName:{type:[String,null],default:null},externalLinkUrl:{type:[String,null],default:null},placeholder:{type:[String,null],default:null},disabled:{type:Boolean,default:!1},skeleton:{type:Boolean,default:!1},alignItems:{type:[String,null],default:"items-center"},errorText:{type:[String,null],default:null},options:{type:Array,default:()=>[]},search:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},noResultsText:{type:[String,null],default:"No results found"},searchableFields:{type:[Array,null],default:()=>["label","value"]},selectClasses:{type:[Array,Object,null],default:null},emits:["update:modelValue","change"]},data(){return{isOpen:!1,searchQuery:null,uniqueId:B("input")}},computed:{localModelValue:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t),console.log("change"),console.log(t),this.$emit("change",t)}},selectedOption(){return this.options.find(t=>t.value===this.localModelValue)||null},filteredOptions(){return this.searchQuery?this.options.filter(t=>this.searchableFields.some(n=>{var e;return(e=t[n])==null?void 0:e.toLowerCase().includes(this.searchQuery.toLowerCase())})):this.options}},methods:{toggleDropdown(){this.disabled||(this.isOpen=!this.isOpen,this.search&&this.focusOnInput())},focusOnInput(){this.$nextTick(()=>{this.$refs.search&&document.activeElement!==this.$refs.search&&this.$refs.search.$refs.input.focus()})},selectOption(t){this.disabled||t.disabled||(this.isOpen=!1,this.searchQuery=null,this.localModelValue=t.value)},clearSelectedOption(){this.localModelValue=null},handleClickOutside(t){this.$refs.dropdown&&!this.$refs.dropdown.contains(t.target)&&(this.isOpen=!1,this.searchQuery=null)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},z={class:"space-y-2"},E={key:0},P=["for"],U={key:0,class:"font-normal text-gray-400 ml-1"},F={key:3,class:"text-red-500"},q={key:2,class:"leading-4"},R={key:0,class:"text-xs text-gray-400 mr-1"},H=["href"],W={key:2,class:"w-full relative",ref:"dropdown"},Z={class:"flex items-center justify-between py-2 px-3"},G={class:"text-gray-700 text-sm truncate"},J={key:1,class:"w-4 h-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},K={key:2,class:"w-4 h-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},X={key:0,class:"w-full absolute z-10 mt-1 select-none bg-white border border-gray-300 rounded-md shadow-lg overflow-hidden"},Y={key:0,class:"px-3 py-2 border-b border-gray-200 bg-white"},$={class:"max-h-60 overflow-auto"},ee=["onClick"],te={class:"truncate"},le={key:0},se={key:1,class:"text-center px-4 py-2 text-gray-500 text-sm"},ne={key:0,class:"scroll-to-error font-medium text-red-500 text-xs mt-1 ml-1"};function oe(t,n,e,re,c,a){const g=f("Popover"),w=f("Tooltip"),v=f("Skeleton"),b=f("Input"),x=j("capitalize");return l(),s("div",null,[i("div",z,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk||t.$slots.description||e.description||e.externalLinkName?(l(),s("div",E,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk?(l(),s("label",{key:0,for:c.uniqueId,class:h({"flex items-center text-sm leading-6 font-medium text-gray-900 space-x-1":!t.$slots.label})},[t.$slots.label?d(t.$slots,"label",{key:0}):(l(),s(y,{key:1},[I((l(),s("span",null,[M(u(e.label),1)])),[[x]]),e.secondaryLabel?(l(),s("span",U,u(e.secondaryLabel),1)):o("",!0),e.popoverContent||t.$slots.popoverContent?(l(),m(g,{key:1,trigger:"hover",content:e.popoverContent},{default:k(()=>[d(t.$slots,"popoverContent")]),_:3},8,["content"])):o("",!0),e.tooltipContent||t.$slots.tooltip?(l(),m(w,{key:2,trigger:"hover",content:e.tooltipContent},{default:k(()=>[d(t.$slots,"tooltipContent")]),_:3},8,["content"])):o("",!0),e.showAsterisk?(l(),s("span",F,"*")):o("",!0)],64))],10,P)):o("",!0),t.$slots.description?d(t.$slots,"description",{key:1}):e.description||e.externalLinkName?(l(),s("div",q,[e.description?(l(),s("span",R,u(e.description),1)):o("",!0),e.externalLinkName?(l(),s("a",N({key:1,target:"_blank",href:e.externalLinkUrl},t.type==="file"?t.fileEventListeners:{},{class:"inline-block text-xs text-blue-700 hover:underline hover:text-blue-90"}),[i("span",null,u(e.externalLinkName),1),n[3]||(n[3]=i("svg",{class:"w-3 h-3 inline-block ml-0.5 -mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1))],16,H)):o("",!0)])):o("",!0)])):o("",!0),i("div",{class:h(["w-full flex",e.alignItems,{"opacity-50":e.disabled}])},[t.$slots.prefix?d(t.$slots,"prefix",{key:0}):o("",!0),e.skeleton?(l(),m(v,{key:1,height:"h-8",shine:!0,rounded:"rounded-lg"})):(l(),s("div",W,[i("div",{onClick:n[1]||(n[1]=(...r)=>a.toggleDropdown&&a.toggleDropdown(...r)),class:h(e.selectClasses?e.selectClasses:["w-full select-none bg-white border border-gray-300 rounded-md",e.disabled?"cursor-not-allowed":"cursor-pointer"])},[i("div",Z,[d(t.$slots,"selectedOption",{selectedOption:a.selectedOption},()=>{var r;return[i("span",G,u(((r=a.selectedOption)==null?void 0:r.label)??e.placeholder),1)]}),a.selectedOption&&e.clearable?(l(),s("svg",{key:0,onClick:n[0]||(n[0]=p((...r)=>a.clearSelectedOption&&a.clearSelectedOption(...r),["stop"])),class:"w-4 h-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},n[4]||(n[4]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):c.isOpen?(l(),s("svg",J,n[5]||(n[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"},null,-1)]))):(l(),s("svg",K,n[6]||(n[6]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1)])))])],2),c.isOpen?(l(),s("div",X,[e.search?(l(),s("div",Y,[T(b,{ref:"search",type:"search",modelValue:c.searchQuery,"onUpdate:modelValue":n[2]||(n[2]=r=>c.searchQuery=r),placeholder:"Search..."},null,8,["modelValue"])])):o("",!0),i("ul",$,[(l(!0),s(y,null,A(a.filteredOptions,(r,C)=>(l(),s("li",{key:C,onClick:p(()=>a.selectOption(r),["stop"]),class:h(["px-4 py-2 text-sm flex justify-between items-center hover:bg-gray-100",r.disabled?"cursor-not-allowed text-gray-400":"cursor-pointer text-gray-700"])},[d(t.$slots,"option",{option:r,isSelected:r.value===a.localModelValue},()=>[i("span",te,u(r.label),1)]),r.value===a.localModelValue?(l(),s("span",le,n[7]||(n[7]=[i("svg",{class:"w-4 h-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):o("",!0)],10,ee))),128))]),a.filteredOptions.length===0?(l(),s("div",se,u(e.noResultsText),1)):o("",!0)])):o("",!0)],512)),t.$slots.suffix?d(t.$slots,"suffix",{key:3}):o("",!0)],2)]),e.errorText?(l(),s("span",ne,u(e.errorText),1)):o("",!0)])}const he=Q(D,[["render",oe]]);export{he as S};
