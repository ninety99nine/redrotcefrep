import{B as k}from"./Button-B6uWpkNJ.js";import{L}from"./Loader-7AMjb3nm.js";import{c as a,b as t,e as m,a as y,r as f,F as l,n as x,i as p,f as P,o as r,t as u,g as F}from"./app-C9fKn4Wu.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{R as b}from"./rocket-D5x6_EK9.js";import"./ShineEffect-CamUJCMA.js";import"./createLucideIcon-aSWH95Ml.js";const j={inject:["formState","storeState","notificationState"],components:{Rocket:b,Button:k,Loader:L},data(){return{Rocket:b,pagination:null,pricingPlans:[],pricingPlanIndex:null,isLoadingPricingPlans:!1,isGeneratingPaymentLink:!1,activePricingPlan:"monthly",freePlanFeatures:["WhatsApp order form","Manual payment methods","Up to 20 images"]}},computed:{store(){return this.storeState.store},isLoadingStore(){return this.storeState.isLoadingStore},isShowingMonthlyPricingPlans(){return this.activePricingPlan=="monthly"},isShowingAnnualPricingPlans(){return this.activePricingPlan=="annually"},filteredPricingPlans(){return this.isShowingMonthlyPricingPlans?this.pricingPlans.filter(o=>o.metadata.store_subscription.frequency=="month"):this.pricingPlans.filter(o=>o.metadata.store_subscription.frequency=="year")}},methods:{changePricingPlan(o){this.activePricingPlan=o},async showPricingPlans(){var o,e;try{this.isLoadingPricingPlans=!0;let s={params:{platform:"web",billing_type:"one time",type:"store subscription"}};const c=await axios.get("/api/pricing-plans",s);this.pagination=c.data,this.pricingPlans=this.pagination.data}catch(s){const c=((e=(o=s==null?void 0:s.response)==null?void 0:o.data)==null?void 0:e.message)||(s==null?void 0:s.message)||"Something went wrong while fetching pricing plans";this.notificationState.showWarningNotification(c),this.formState.setServerFormErrors(s),console.error("Failed to fetch pricing plans:",s)}finally{this.isLoadingPricingPlans=!1}},async payPricingPlan(o,e){var s,c;try{if(this.isGeneratingPaymentLink)return;this.pricingPlanIndex=e,this.isGeneratingPaymentLink=!0;let n={store_id:this.store.id,payment_method_type:"dpo"};const h=(await axios.post(`/api/pricing-plans/${o.id}/pay`,n)).data.metadata.dpo_payment_url;window.location.href=h}catch(n){const i=((c=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:c.message)||(n==null?void 0:n.message)||"Something went wrong while subscribing";this.notificationState.showWarningNotification(i),this.formState.setServerFormErrors(n),console.error("Failed to subscribe:",n)}finally{this.isGeneratingPaymentLink=!1}}},created(){this.showPricingPlans()}},B={class:"min-h-screen relative"},C={class:"z-10 pt-32 px-20 relative"},I={class:"flex flex-col items-center mb-10"},z={class:"flex justify-center items-center space-x-2 text-xl text-gray-700 font-semibold mb-4"},A={key:0,class:"flex justify-center"},G={class:"flex justify-center mb-4"},N={class:"w-fit flex justify-center items-center bg-white py-0.5 px-1 border border-blue-300 rounded-full mb-4 relative"},R={class:"flex justify-center space-x-4 mb-8"},V={class:"animated-border-blue w-80 bg-white py-4 px-4 shadow-sm rounded-xl"},W={class:"text-3xl text-gray-700 font-bold space-x-1 mb-4"},E={class:"text-sm text-gray-500 font-normal"},q={class:"bg-gray-50 border p-4 rounded-lg"},U={class:"text-gray-500 text-xs"},D={class:"text-xl text-gray-700 font-bold mb-2"},T={class:"w-4/5 text-gray-500 text-sm mb-4"},H={class:"text-3xl text-gray-700 font-bold space-x-1 mb-4"},J={class:"text-sm text-gray-500 font-normal"},K={key:0,class:"animate-pulse text-xs text-center text-blue-500 bg-blue-50 rounded-full p-2 mb-4"},O={class:"bg-green-50 border border-green-500 p-4 rounded-lg"},Q={class:"text-xs"};function X(o,e,s,c,n,i){const h=f("Rocket"),w=f("Loader"),_=f("Button");return r(),a("div",B,[t("div",C,[t("div",I,[t("h1",z,[y(h,{size:"24"}),e[2]||(e[2]=t("span",null,"Pricing Plans",-1))]),e[3]||(e[3]=t("p",{class:"w-96 text-sm text-gray-500 text-center"},"Get the best plan for your store. Pay monthly or annually, with no hidden fees. Start selling instantly!",-1))]),n.isLoadingPricingPlans?(r(),a("div",A,[y(w)])):m("",!0),n.isLoadingPricingPlans?m("",!0):(r(),a(l,{key:1},[t("div",G,[t("div",N,[t("div",{class:x([i.isShowingMonthlyPricingPlans?"-translate-x-12":"translate-x-12","absolute w-24 bg-blue-500 h-6 rounded-full transition-transform duration-500 ease-in-out"])},null,2),t("div",{onClick:e[0]||(e[0]=()=>i.changePricingPlan("monthly")),class:x([i.isShowingMonthlyPricingPlans?"text-white":"text-gray-500","z-10 py-1 px-4 rounded-full w-24 text-sm text-center cursor-pointer transition-transform duration-500 ease-in-out"])},"Monthly",2),t("div",{onClick:e[1]||(e[1]=()=>i.changePricingPlan("annually")),class:x([i.isShowingAnnualPricingPlans?"text-white":"text-gray-500","z-10 py-1 px-4 rounded-full w-24 text-sm text-center cursor-pointer transition-transform duration-500 ease-in-out"])},"Annually",2)])]),e[10]||(e[10]=t("div",{class:"flex justify-center mb-8"},[t("img",{src:"/images/store-rooftop.png",class:"w-96"})],-1)),t("div",R,[t("div",V,[e[6]||(e[6]=t("h1",{class:"text-xl text-gray-700 font-bold mb-2"}," Free Plan ",-1)),e[7]||(e[7]=t("h2",{class:"text-gray-500 text-sm mb-4"}," Free store access with limited features ",-1)),t("h2",W,[e[4]||(e[4]=t("span",null,"$0.00",-1)),e[5]||(e[5]=t("span",{class:"text-sm text-gray-500 font-normal"},"/",-1)),t("span",E,[i.isShowingMonthlyPricingPlans?(r(),a(l,{key:0},[p("month")],64)):i.isShowingAnnualPricingPlans?(r(),a(l,{key:1},[p("year")],64)):m("",!0)])]),t("div",q,[(r(!0),a(l,null,P(n.freePlanFeatures,(g,d)=>(r(),a("div",{key:d},[t("span",U,u(g),1)]))),128))])]),(r(!0),a(l,null,P(i.filteredPricingPlans,(g,d)=>(r(),a("div",{key:d,class:"animated-border-blue w-80 bg-white py-4 px-4 shadow-sm rounded-xl"},[t("h1",D,u(g.name),1),t("h2",T,u(g.description),1),t("h2",H,[t("span",null,u(g.price.amount_with_currency),1),e[8]||(e[8]=t("span",{class:"text-sm text-gray-500 font-normal"},"/",-1)),t("span",J,[i.isShowingMonthlyPricingPlans?(r(),a(l,{key:0},[p("month")],64)):i.isShowingAnnualPricingPlans?(r(),a(l,{key:1},[p("year")],64)):m("",!0)])]),y(_,{size:"sm",type:"primary",rightIcon:n.Rocket,buttonClass:"w-full mb-4",loading:n.pricingPlanIndex==d,action:()=>i.payPricingPlan(g,d),disabled:n.isGeneratingPaymentLink&&n.pricingPlanIndex!=d},{default:F(()=>e[9]||(e[9]=[t("span",null,"Subscribe",-1)])),_:2,__:[9]},1032,["rightIcon","loading","action","disabled"]),n.pricingPlanIndex==d?(r(),a("p",K," We are preparing your payment... ")):m("",!0),t("div",O,[(r(!0),a(l,null,P(g.features,(S,v)=>(r(),a("div",{key:v},[t("span",Q,u(S),1)]))),128))])]))),128))])],64))]),e[11]||(e[11]=t("img",{src:"/images/clouds.png",class:"absolute top-32"},null,-1))])}const it=M(j,[["render",X]]);export{it as default};
