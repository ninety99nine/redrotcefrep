import{I as C}from"./Input-QwDj8T87.js";import{P as O}from"./Popover-DUH2qEVS.js";import{T as I}from"./Tooltip-Gwe3QXsJ.js";import{S as N}from"./Skeleton-BfdDUyfM.js";import{a as Q}from"./stringUtils-Bvzw0-oW.js";import{c as T}from"./capitalize-ChUSrr1V.js";import{Q as B,c as s,b as a,e as n,D as o,n as u,F as p,l as D,d as g,z as b,i as A,t as d,g as v,P as V,a as k,f as w,r as h,S as z,o as l,w as E}from"./app-CAsQYp3T.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={directives:{capitalize:T},components:{Input:C,Popover:O,Tooltip:I,Skeleton:N},props:{label:{type:[String,null],default:null},labelStyle:{type:[Object,String,null],default:null},secondaryLabel:{type:[String,null],default:null},secondaryLabelStyle:{type:[Object,String,null],default:null},popoverContent:{type:[String,null],default:null},tooltipContent:{type:[String,null],default:null},showAsterisk:{type:Boolean,default:!1},description:{type:[String,null],default:null},externalLinkName:{type:[String,null],default:null},externalLinkUrl:{type:[String,null],default:null},placeholder:{type:[String,null],default:null},disabled:{type:Boolean,default:!1},skeleton:{type:Boolean,default:!1},alignItems:{type:[String,null],default:"items-center"},errorText:{type:[String,null],default:null},options:{type:Array,default:()=>[]},search:{type:[Function,null],default:null},isLoading:{type:Boolean,default:!0},noResultsText:{type:[String,null],default:"No results found"},emits:["selected"]},data(){return{isOpen:!1,searchQuery:null,isSearching:!1,uniqueId:B("input")}},watch:{isLoading(t){this.isSearching=t&&this.hasSearchQuery},searchQuery(t){this.search(t)}},computed:{hasSearchQuery(){return this.isNotEmpty(this.searchQuery)}},methods:{isNotEmpty:Q,openDropdown(){this.isOpen=!0},closeDropdown(){this.isOpen=!1},toggleDropdown(){this.isOpen=!this.isOpen,this.focusOnInput()},focusOnInput(){this.$nextTick(()=>{this.$refs.search&&document.activeElement!==this.$refs.search&&this.$refs.search.$refs.input.focus()})},onInputSearchQuery(){this.isSearching=!0,this.openDropdown()},selectOption(t){this.disabled||t.disabled||(this.isOpen=!1,this.searchQuery=null,this.$emit("selected",t))},handleClickOutside(t){this.$refs.dropdown&&!this.$refs.dropdown.contains(t.target)&&(this.isOpen=!1,this.searchQuery=null)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},U={class:"space-y-2"},j={key:0},q=["for"],M={key:3,class:"text-red-500"},R={key:2,class:"leading-4"},H={key:0,class:"text-xs text-gray-400 mr-1"},G=["href"],J={key:2,class:"w-full relative",ref:"dropdown"},K={key:0,class:"w-full absolute z-10 mt-1 select-none bg-white border border-gray-300 rounded-md shadow-lg overflow-hidden"},W={key:0,class:"max-h-60 divide-y divide-gray-100 overflow-auto"},X=["onClick"],Y={class:"truncate"},Z={key:1,class:"text-center px-4 py-2 text-gray-500 text-sm"},$={key:0,class:"scroll-to-error font-medium text-red-500 text-xs mt-1 ml-1"};function ee(t,c,e,te,i,y){const S=h("Popover"),x=h("Tooltip"),f=h("Skeleton"),_=h("Input"),L=z("capitalize");return l(),s("div",null,[a("div",U,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk||t.$slots.description||e.description||e.externalLinkName?(l(),s("div",j,[t.$slots.label||e.label||e.secondaryLabel||e.showAsterisk?(l(),s("label",{key:0,for:i.uniqueId,class:u({"flex items-center text-sm leading-6 font-medium text-gray-900 space-x-1":!t.$slots.label})},[t.$slots.label?o(t.$slots,"label",{key:0}):(l(),s(p,{key:1},[D((l(),s("span",{style:b(e.labelStyle)},[A(d(e.label),1)],4)),[[L]]),e.secondaryLabel?(l(),s("span",{key:0,style:b(e.secondaryLabelStyle),class:u({"font-normal text-gray-400":!e.secondaryLabelStyle})},d(e.secondaryLabel),7)):n("",!0),e.popoverContent||t.$slots.popoverContent?(l(),g(S,{key:1,trigger:"hover",content:e.popoverContent},{default:v(()=>[o(t.$slots,"popoverContent")]),_:3},8,["content"])):n("",!0),e.tooltipContent||t.$slots.tooltipContent?(l(),g(x,{key:2,trigger:"hover",content:e.tooltipContent},{default:v(()=>[o(t.$slots,"tooltipContent")]),_:3},8,["content"])):n("",!0),e.showAsterisk?(l(),s("span",M,"*")):n("",!0)],64))],10,q)):n("",!0),t.$slots.description?o(t.$slots,"description",{key:1}):e.description||e.externalLinkName?(l(),s("div",R,[e.description?(l(),s("span",H,d(e.description),1)):n("",!0),e.externalLinkName?(l(),s("a",V({key:1,target:"_blank",href:e.externalLinkUrl},t.type==="file"?t.fileEventListeners:{},{class:"inline-block text-xs text-blue-700 hover:underline hover:text-blue-90"}),[a("span",null,d(e.externalLinkName),1),c[1]||(c[1]=a("svg",{class:"w-3 h-3 inline-block ml-0.5 -mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1))],16,G)):n("",!0)])):n("",!0)])):n("",!0),a("div",{class:u(["w-full flex",e.alignItems,{"opacity-50":e.disabled}])},[t.$slots.prefix?o(t.$slots,"prefix",{key:0}):n("",!0),e.skeleton?(l(),g(f,{key:1,height:"h-8",shine:!0,rounded:"rounded-lg"})):(l(),s("div",J,[k(_,{ref:"search",type:"search",class:"w-full",debounced:!0,disabled:e.disabled,modelValue:i.searchQuery,"onUpdate:modelValue":c[0]||(c[0]=r=>i.searchQuery=r),onFocus:y.toggleDropdown,placeholder:e.placeholder,onInput:y.onInputSearchQuery},null,8,["disabled","modelValue","onFocus","placeholder","onInput"]),i.isOpen?(l(),s("div",K,[i.isSearching||e.options.length>0?(l(),s("ul",W,[i.isSearching?(l(),s(p,{key:0},w([1,2,3],(r,m)=>o(t.$slots,"loadingPlaceholder",{key:m},()=>[a("li",{class:u(["px-4 py-2 flex items-center space-x-2",e.disabled?"cursor-not-allowed":"cursor-pointer"])},[k(f,{width:"w-6",height:"h-6",rounded:"rounded-lg",shine:!0}),k(f,{width:"w-1/2",height:"h-2",shine:!0})],2)])),64)):(l(!0),s(p,{key:1},w(e.options,(r,m)=>(l(),s("li",{key:m,onClick:E(()=>y.selectOption(r),["stop"]),class:u(["px-4 py-2 text-sm flex justify-between items-center hover:bg-gray-100",r.disabled?"cursor-not-allowed text-gray-400":"cursor-pointer text-gray-700"])},[o(t.$slots,"option",{option:r},()=>[a("span",Y,d(r.label),1)])],10,X))),128))])):n("",!0),!i.isSearching&&e.options.length===0?(l(),s("div",Z,d(e.noResultsText),1)):n("",!0)])):n("",!0)],512)),t.$slots.suffix?o(t.$slots,"suffix",{key:3}):n("",!0)],2)]),e.errorText?(l(),s("span",$,d(e.errorText),1)):n("",!0)])}const ue=P(F,[["render",ee]]);export{ue as S};
